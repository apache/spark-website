<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
     Spark Release 2.1.0 | Apache Spark
    
  </title>

  

  

  <!-- Bootstrap core CSS -->
  <link href="/css/cerulean.min.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">

  <!-- Code highlighter CSS -->
  <link href="/css/pygments-default.css" rel="stylesheet">

  <script type="text/javascript">
  <!-- Google Analytics initialization -->
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32518208-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  <!-- Adds slight delay to links to allow async reporting -->
  function trackOutboundLink(link, category, action) {
    try {
      _gaq.push(['_trackEvent', category , action]);
    } catch(err){}

    setTimeout(function() {
      document.location.href = link.href;
    }, 100);
  }
  </script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script src="/js/lang-tabs.js"></script>
<script src="/js/downloads.js"></script>

<div class="container" style="max-width: 1200px;">

<div class="masthead">
  
    <p class="lead">
      <a href="/">
      <img src="/images/spark-logo-trademark.png"
        style="height:100px; width:auto; vertical-align: bottom; margin-top: 20px;"></a><span class="tagline">
          Lightning-fast unified analytics engine
      </span>
    </p>
  
</div>

<nav class="navbar navbar-default" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse"
            data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li><a href="/downloads.html">Download</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Libraries <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/sql/">SQL and DataFrames</a></li>
          <li><a href="/streaming/">Spark Streaming</a></li>
          <li><a href="/mllib/">MLlib (machine learning)</a></li>
          <li><a href="/graphx/">GraphX (graph)</a></li>
          <li class="divider"></li>
          <li><a href="/third-party-projects.html">Third-Party Projects</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Documentation <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/docs/latest/">Latest Release (Spark 2.4.1)</a></li>
          <li><a href="/documentation.html">Older Versions and Other Resources</a></li>
          <li><a href="/faq.html">Frequently Asked Questions</a></li>
        </ul>
      </li>
      <li><a href="/examples.html">Examples</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Community <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/community.html">Mailing Lists &amp; Resources</a></li>
          <li><a href="/contributing.html">Contributing to Spark</a></li>
          <li><a href="/improvement-proposals.html">Improvement Proposals (SPIP)</a></li>
          <li><a href="https://issues.apache.org/jira/browse/SPARK">Issue Tracker</a></li>
          <li><a href="/powered-by.html">Powered By</a></li>
          <li><a href="/committers.html">Project Committers</a></li>
          <li><a href="/history.html">Project History</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
           Developers <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/developer-tools.html">Useful Developer Tools</a></li>
          <li><a href="/versioning-policy.html">Versioning Policy</a></li>
          <li><a href="/release-process.html">Release Process</a></li>
          <li><a href="/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="https://www.apache.org/" class="dropdown-toggle" data-toggle="dropdown">
          Apache Software Foundation <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="https://www.apache.org/">Apache Homepage</a></li>
          <li><a href="https://www.apache.org/licenses/">License</a></li>
          <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
          <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a href="https://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <!-- /.navbar-collapse -->
</nav>


<div class="row">
  <div class="col-md-3 col-md-push-9">
    <div class="news" style="margin-bottom: 20px;">
      <h5>Latest News</h5>
      <ul class="list-unstyled">
        
          <li><a href="/news/spark-2-3-3-released.html">Spark 2.3.3 released</a>
          <span class="small">(Feb 15, 2019)</span></li>
        
          <li><a href="/news/spark-release-2-2-3.html">Spark 2.2.3 released</a>
          <span class="small">(Jan 11, 2019)</span></li>
        
          <li><a href="/news/spark-ai-summit-apr-2019-agenda-posted.html">Spark+AI Summit (April 23-25th, 2019, San Francisco) agenda posted</a>
          <span class="small">(Dec 19, 2018)</span></li>
        
          <li><a href="/news/spark-2-4-0-released.html">Spark 2.4.0 released</a>
          <span class="small">(Nov 02, 2018)</span></li>
        
      </ul>
      <p class="small" style="text-align: right;"><a href="/news/index.html">Archive</a></p>
    </div>
    <div style="text-align:center; margin-bottom: 20px;">
      <a href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
    <div class="hidden-xs hidden-sm">
      <a href="/downloads.html" class="btn btn-success btn-lg btn-block" style="margin-bottom: 30px;">
        Download Spark
      </a>
      <p style="font-size: 16px; font-weight: 500; color: #555;">
        Built-in Libraries:
      </p>
      <ul class="list-none">
        <li><a href="/sql/">SQL and DataFrames</a></li>
        <li><a href="/streaming/">Spark Streaming</a></li>
        <li><a href="/mllib/">MLlib (machine learning)</a></li>
        <li><a href="/graphx/">GraphX (graph)</a></li>
      </ul>
      <a href="/third-party-projects.html">Third-Party Projects</a>
    </div>
  </div>

  <div class="col-md-9 col-md-pull-3">
    <h2>Spark Release 2.1.0</h2>


<p>Apache Spark 2.1.0 is the second release on the 2.x line. This release makes significant strides in the production readiness of Structured Streaming, with added support for <a href="/docs/2.1.0/structured-streaming-programming-guide.html#handling-late-data-and-watermarking">event time watermarks</a> and <a href="/docs/2.1.0/structured-streaming-kafka-integration.html">Kafka 0.10 support</a>. In addition, this release focuses more on usability, stability, and polish, resolving over 1200 tickets.</p>

<p>To download Apache Spark 2.1.0, visit the <a href="/downloads.html">downloads</a> page. You can consult JIRA for the <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12315420&amp;version=12335644">detailed changes</a>. We have curated a list of high level changes here, grouped by major modules.</p>

<ul id="markdown-toc">
  <li><a href="#core-and-spark-sql" id="markdown-toc-core-and-spark-sql">Core and Spark SQL</a></li>
  <li><a href="#structured-streaming" id="markdown-toc-structured-streaming">Structured Streaming</a></li>
  <li><a href="#mllib" id="markdown-toc-mllib">MLlib</a></li>
  <li><a href="#sparkr" id="markdown-toc-sparkr">SparkR</a></li>
  <li><a href="#graphx" id="markdown-toc-graphx">GraphX</a></li>
  <li><a href="#deprecations" id="markdown-toc-deprecations">Deprecations</a></li>
  <li><a href="#changes-of-behavior" id="markdown-toc-changes-of-behavior">Changes of behavior</a></li>
  <li><a href="#known-issues" id="markdown-toc-known-issues">Known Issues</a></li>
  <li><a href="#credits" id="markdown-toc-credits">Credits</a></li>
</ul>

<h3 id="core-and-spark-sql">Core and Spark SQL</h3>

<ul>
  <li><strong>API updates</strong>
    <ul>
      <li>SPARK-17864: Data type APIs are stable APIs.</li>
      <li>SPARK-18351: from_json and to_json for parsing JSON for string columns</li>
      <li>SPARK-16700: When creating a DataFrame in PySpark, Python dictionaries can be used as values of a StructType.</li>
    </ul>
  </li>
  <li><strong>Performance and stability</strong>
    <ul>
      <li>SPARK-17861: Scalable Partition Handling. Hive metastore stores all table partition metadata by default for Spark tables stored with Hive’s storage formats as well as tables stored with Spark’s native formats. This change reduces first query latency over partitioned tables and allows for the use of DDL commands to manipulate partitions for tables stored with Spark’s native formats. <a href="/docs/2.1.0/sql-programming-guide.html#upgrading-from-spark-sql-20-to-21">Users can migrate tables stored with Spark&#8217;s native formats created by previous versions by using the MSCK command</a>.</li>
      <li>SPARK-16523: Speeds up group-by aggregate performance by adding a fast aggregation cache that is backed by a row-based hashmap.</li>
    </ul>
  </li>
  <li><strong>Other notable changes</strong>
    <ul>
      <li>SPARK-9876: parquet-mr upgraded to 1.8.1</li>
    </ul>
  </li>
</ul>

<p><em>Programming guides: <a href="/docs/2.1.0/programming-guide.html">Spark Programming Guide</a> and <a href="/docs/2.1.0/sql-programming-guide.html">Spark SQL, DataFrames and Datasets Guide</a>.</em></p>

<h3 id="structured-streaming">Structured Streaming</h3>

<ul>
  <li><strong>API updates</strong>
    <ul>
      <li>SPARK-17346: <a href="/docs/2.1.0/structured-streaming-kafka-integration.html">Kafka 0.10 support in Structured Streaming</a></li>
      <li>SPARK-17731: Metrics for Structured Streaming</li>
      <li>SPARK-17829: Stable format for offset log</li>
      <li>SPARK-18124: Observed delay based Event Time Watermarks</li>
      <li>SPARK-18192: Support all file formats in structured streaming</li>
      <li>SPARK-18516: Separate instantaneous state from progress performance statistics</li>
    </ul>
  </li>
  <li><strong>Stability</strong>
    <ul>
      <li>SPARK-17267: Long running structured streaming requirements</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.1.0/structured-streaming-programming-guide.html">Structured Streaming Programming Guide</a>.</em></p>

<h3 id="mllib">MLlib</h3>

<ul>
  <li><strong>API updates</strong>
    <ul>
      <li>SPARK-5992: Locality Sensitive Hashing</li>
      <li>SPARK-7159: Multiclass Logistic Regression in DataFrame-based API</li>
      <li>SPARK-16000: ML persistence: Make model loading backwards-compatible with Spark 1.x with saved models using spark.mllib.linalg.Vector columns in DataFrame-based API</li>
    </ul>
  </li>
  <li><strong>Performance and stability</strong>
    <ul>
      <li>SPARK-17748: Faster, more stable LinearRegression for &lt; 4096 features</li>
      <li>SPARK-16719: RandomForest: communicate fewer trees on each iteration</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.1.0/ml-guide.html">Machine Learning Library (MLlib) Guide</a>.</em></p>

<h3 id="sparkr">SparkR</h3>

<p>The main focus of SparkR in the 2.1.0 release was adding extensive support for ML algorithms, which include:</p>

<ul>
  <li>New ML algorithms in SparkR including LDA, Gaussian Mixture Models, ALS, Random Forest, Gradient Boosted Trees, and more</li>
  <li>Support for multinomial logistic regression providing similar functionality as the glmnet R package</li>
  <li>Enable installing third party packages on workers using <code>spark.addFile</code> (<a href="https://issues.apache.org/jira/browse/SPARK-17577">SPARK-17577</a>).</li>
  <li>Standalone installable package built with the Apache Spark release. We will be submitting this to CRAN soon.</li>
</ul>

<p><em>Programming guide: <a href="/docs/2.1.0/sparkr.html">SparkR (R on Spark)</a>.</em></p>

<h3 id="graphx">GraphX</h3>

<ul>
  <li>SPARK-11496: Personalized pagerank</li>
</ul>

<p><em>Programming guide: <a href="/docs/2.1.0/graphx-programming-guide.html">GraphX Programming Guide</a>.</em></p>

<h3 id="deprecations">Deprecations</h3>

<ul>
  <li><strong>MLlib</strong>
    <ul>
      <li>SPARK-18592: Deprecate unnecessary Param setter methods in tree and ensemble models</li>
    </ul>
  </li>
</ul>

<h3 id="changes-of-behavior">Changes of behavior</h3>

<ul>
  <li><strong>Core and SQL</strong>
    <ul>
      <li>SPARK-18360: The default table path of tables in the default database will be under the location of the default database instead of always depending on the warehouse location setting.</li>
      <li>SPARK-18377: spark.sql.warehouse.dir is a static configuration now. Users need to set it before the start of the first SparkSession and its value is shared by sessions in the same application.</li>
      <li>SPARK-14393: Values generated by non-deterministic functions will not change after coalesce or union.</li>
      <li>SPARK-18076: Fix default Locale used in DateFormat, NumberFormat to Locale.US</li>
      <li>SPARK-16216: CSV and JSON data sources write timestamp and date values in <a href="https://www.w3.org/TR/NOTE-datetime">ISO 8601 formatted string</a>. Two options, timestampFormat and dateFormat, are added to these two data sources to let users control the format of timestamp and date value in string representation, respectively. Please refer to the API doc of <a href="/docs/2.1.0/api/scala/index.html#org.apache.spark.sql.DataFrameReader">DataFrameReader</a> and <a href="/docs/2.1.0/api/scala/index.html#org.apache.spark.sql.DataFrameWriter">DataFrameWriter</a> for more details about these two configurations.</li>
      <li>SPARK-17427: Function SIZE returns -1 when its input parameter is null.</li>
      <li>SPARK-16498: LazyBinaryColumnarSerDe is fixed as the the SerDe for RCFile.</li>
      <li>SPARK-16552: If a user does not specify the schema to a table and relies on schema inference, the inferred schema will be stored in the metastore. The schema will be not inferred again when this table is used.</li>
    </ul>
  </li>
  <li><strong>Structured Streaming</strong>
    <ul>
      <li>SPARK-18516: Separate instantaneous state from progress performance statistics</li>
    </ul>
  </li>
  <li><strong>MLlib</strong>
    <ul>
      <li>SPARK-17870: ChiSquareSelector now accounts for degrees of freedom by using pValue rather than raw statistic to select the top features.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues">Known Issues</h3>

<ul>
  <li>SPARK-17647: In SQL LIKE clause, wildcard characters &#8216;%&#8217; and &#8216;_&#8217; right after backslashes are always escaped.</li>
  <li>SPARK-18908: If a StreamExecution fails to start, users need to check stderr for the error.</li>
</ul>

<h3 id="credits">Credits</h3>
<p>Last but not least, this release would not have been possible without the following contributors:
ALeksander Eskilson, Aaditya Ramesh, Adam Roberts, Adrian Petrescu, Ahmed Mahran, Alex Bozarth, Alexander Shorin, Alexander Ulanov, Andrew Duffy, Andrew Mills, Andrew Ray, Angus Gerry, Anthony Truchet, Anton Okolnychyi, Artur Sukhenko, Bartek Wisniewski, Bijay Pathak, Bill Chambers, Bjarne Fruergaard, Brian Cho, Bryan Cutler, Burak Yavuz, Cen Yu Hai, Charles Allen, Cheng Lian, Chie Hayashida, Christian Kadner, Clark Fitzgerald, Cody Koeninger, Daniel Darabos, Daoyuan Wang, David Navas, Davies Liu, Denny Lee, Devaraj K, Dhruve Ashar, Dilip Biswal, Ding Ding, Dmitriy Sokolov, Dongjoon Hyun, Drew Robb, Ekasit Kijsipongse, Eren Avsarogullari, Ergin Seyfe, Eric Liang, Erik O&#8217;Shaughnessy, Eyal Farago, Felix Cheung, Ferdinand Xu, Fred Reiss, Fu Xing, Gabriel Huang, Gaetan Semet, Gang Wu, Gayathri Murali, Gu Huiqin Alice, Guoqiang Li, Gurvinder Singh, Hao Ren, Herman Van Hovell, Hiroshi Inoue, Holden Karau, Hossein Falaki, Huang Zhaowei, Huaxin Gao, Hyukjin Kwon, Imran Rashid, Jacek Laskowski, Jagadeesan A S, Jakob Odersky, Jason White, Jeff Zhang, Jianfei Wang, Jiang Xingbo, Jie Huang, Jie Xiong, Jisoo Kim, John Muller, Jose Hiram Soltren, Joseph K. Bradley, Josh Rosen, Jun Kim, Junyang Qian, Justin Pihony, Kapil Singh, Kay Ousterhout, Kazuaki Ishizaki, Kevin Grealish, Kevin McHale, Kishor Patil, Koert Kuipers, Kousuke Saruta, Krishna Kalyan, Liang Ke, Liang-Chi Hsieh, Lianhui Wang, Linbo Jin, Liwei Lin, Luciano Resende, Maciej Brynski, Maciej Szymkiewicz, Mahmoud Rawas, Manoj Kumar, Marcelo Vanzin, Mariusz Strzelecki, Mark Grover, Maxime Rihouey, Miao Wang, Michael Allman, Michael Armbrust, Michael Gummelt, Michal Senkyr, Michal Wesolowski, Mikael Staldal, Mike Ihbe, Mitesh Patel, Nan Zhu, Nattavut Sutyanyong, Nic Eggert, Nicholas Chammas, Nick Lavers, Nick Pentreath, Nicolas Fraison, Noritaka Sekiyama, Peng Meng, Peng, Meng, Pete Robbins, Peter Ableda, Peter Lee, Philipp Hoffmann, Prashant Sharma, Prince J Wesley, Priyanka Garg, Qian Huang, Qifan Pu, Rajesh Balamohan, Reynold Xin, Robert Kruszewski, Russell Spitzer, Ryan Blue, Saisai Shao, Sameer Agarwal, Sami Jaktholm, Sandeep Purohit, Sandeep Singh, Satendra Kumar, Sean Owen, Sean Zhong, Seth Hendrickson, Sharkd Tu, Shen Hong, Shivansh Srivastava, Shivaram Venkataraman, Shixiong Zhu, Shuai Lin, Shubham Chopra, Sital Kedia, Song Jun, Srinath Shankar, Stavros Kontopoulos, Stefan Schulze, Steve Loughran, Suman Somasundar, Sun Dapeng, Sun Rui, Sunitha Kambhampati, Suresh Thalamati, Susan X. Huynh, Sylvain Zimmer, Takeshi YAMAMURO, Takuya UESHIN, Tao LI, Tao Lin, Tao Wang, Tarun Kumar, Tathagata Das, Tejas Patil, Thomas Graves, Timothy Chen, Timothy Hunter, Tom Graves, Tom Magrino, Tommy YU, Tyson Condie, Uncle Gen, Vinayak Joshi, Vincent Xie, Wang Fei, Wang Lei, Wang Tao, Wayne Zhang, Weichen Xu, Weiluo (David) Ren, Weiqing Yang, Wenchen Fan, Wesley Tang, William Benton, Wojciech Szymanski, Xiangrui Meng, Xianyang Liu, Xiao Li, Xin Ren, Xin Wu, Xing SHI, Xusen Yin, Yadong Qi, Yanbo Liang, Yang Wang, Yangyang Liu, Yin Huai, Yu Peng, Yucai Yu, Yuhao Yang, Yuming Wang, Yun Ni, Yves Raimond, Zhan Zhang, Zheng RuiFeng, Zhenhua Wang, pkch, tone-zhang, yimuxi</p>


<p>
<br/>
<a href="/news/">Spark News Archive</a>
</p>

  </div>
</div>



<footer class="small">
  <hr>
  Apache Spark, Spark, Apache, the Apache feather logo, and the Apache Spark project logo are either registered
  trademarks or trademarks of The Apache Software Foundation in the United States and other countries.
  See guidance on use of Apache Spark <a href="/trademarks.html">trademarks</a>.
  All other marks mentioned may be trademarks or registered trademarks of their respective owners.
  Copyright &copy; 2018 The Apache Software Foundation, Licensed under the
  <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.
</footer>

</div>

</body>
</html>
