<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
     Spark Release 2.4.6 | Apache Spark
    
  </title>

  

  

  <!-- Bootstrap core CSS -->
  <link href="/css/cerulean.min.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">

  <!-- Code highlighter CSS -->
  <link href="/css/pygments-default.css" rel="stylesheet">

  <script type="text/javascript">
  <!-- Google Analytics initialization -->
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32518208-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  <!-- Adds slight delay to links to allow async reporting -->
  function trackOutboundLink(link, category, action) {
    try {
      _gaq.push(['_trackEvent', category , action]);
    } catch(err){}

    setTimeout(function() {
      document.location.href = link.href;
    }, 100);
  }
  </script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script src="/js/lang-tabs.js"></script>
<script src="/js/downloads.js"></script>

<div class="container" style="max-width: 1200px;">

<div class="masthead">
  
    <p class="lead">
      <a href="/">
      <img src="/images/spark-logo-trademark.png"
        style="height:100px; width:auto; vertical-align: bottom; margin-top: 20px;"></a><span class="tagline">
          Lightning-fast unified analytics engine
      </span>
    </p>
  
</div>

<nav class="navbar navbar-default" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse"
            data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li><a href="/downloads.html">Download</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Libraries <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/sql/">SQL and DataFrames</a></li>
          <li><a href="/streaming/">Spark Streaming</a></li>
          <li><a href="/mllib/">MLlib (machine learning)</a></li>
          <li><a href="/graphx/">GraphX (graph)</a></li>
          <li class="divider"></li>
          <li><a href="/third-party-projects.html">Third-Party Projects</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Documentation <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/docs/latest/">Latest Release (Spark 2.4.6)</a></li>
          <li><a href="/documentation.html">Older Versions and Other Resources</a></li>
          <li><a href="/faq.html">Frequently Asked Questions</a></li>
        </ul>
      </li>
      <li><a href="/examples.html">Examples</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Community <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/community.html">Mailing Lists &amp; Resources</a></li>
          <li><a href="/contributing.html">Contributing to Spark</a></li>
          <li><a href="/improvement-proposals.html">Improvement Proposals (SPIP)</a></li>
          <li><a href="https://issues.apache.org/jira/browse/SPARK">Issue Tracker</a></li>
          <li><a href="/powered-by.html">Powered By</a></li>
          <li><a href="/committers.html">Project Committers</a></li>
          <li><a href="/history.html">Project History</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
           Developers <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/developer-tools.html">Useful Developer Tools</a></li>
          <li><a href="/versioning-policy.html">Versioning Policy</a></li>
          <li><a href="/release-process.html">Release Process</a></li>
          <li><a href="/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="https://www.apache.org/" class="dropdown-toggle" data-toggle="dropdown">
          Apache Software Foundation <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="https://www.apache.org/">Apache Homepage</a></li>
          <li><a href="https://www.apache.org/licenses/">License</a></li>
          <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
          <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a href="https://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <!-- /.navbar-collapse -->
</nav>


<div class="row">
  <div class="col-md-3 col-md-push-9">
    <div class="news" style="margin-bottom: 20px;">
      <h5>Latest News</h5>
      <ul class="list-unstyled">
        
          <li><a href="/news/spark-2-4-6.html">Spark 2.4.6 released</a>
          <span class="small">(Jun 05, 2020)</span></li>
        
          <li><a href="/news/spark-2-4-5-released.html">Spark 2.4.5 released</a>
          <span class="small">(Feb 08, 2020)</span></li>
        
          <li><a href="/news/spark-3.0.0-preview2.html">Preview release of Spark 3.0</a>
          <span class="small">(Dec 23, 2019)</span></li>
        
          <li><a href="/news/spark-3.0.0-preview.html">Preview release of Spark 3.0</a>
          <span class="small">(Nov 06, 2019)</span></li>
        
      </ul>
      <p class="small" style="text-align: right;"><a href="/news/index.html">Archive</a></p>
    </div>
    <div style="text-align:center; margin-bottom: 20px;">
      <a href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
    <div class="hidden-xs hidden-sm">
      <a href="/downloads.html" class="btn btn-success btn-lg btn-block" style="margin-bottom: 30px;">
        Download Spark
      </a>
      <p style="font-size: 16px; font-weight: 500; color: #555;">
        Built-in Libraries:
      </p>
      <ul class="list-none">
        <li><a href="/sql/">SQL and DataFrames</a></li>
        <li><a href="/streaming/">Spark Streaming</a></li>
        <li><a href="/mllib/">MLlib (machine learning)</a></li>
        <li><a href="/graphx/">GraphX (graph)</a></li>
      </ul>
      <a href="/third-party-projects.html">Third-Party Projects</a>
    </div>
  </div>

  <div class="col-md-9 col-md-pull-3">
    <h2>Spark Release 2.4.6</h2>


<p>Spark 2.4.6 is a maintenance release containing stability, correctness, and security fixes. This release is based on the branch-2.4 maintenance branch of Spark. We strongly recommend all 2.4 users to upgrade to this stable release.</p>

<h3 id="notable-changes">Notable changes</h3>
<ul>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-29419">[SPARK-29419]</a>: Seq.toDS / spark.createDataset(Seq) is not thread-safe</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31519">[SPARK-31519]</a>: Cast in having aggregate expressions returns the wrong result</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-26293">[SPARK-26293]</a>: Cast exception when having python udf in subquery</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-30826">[SPARK-30826]</a>: LIKE returns wrong result from external table using parquet</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-30857">[SPARK-30857]</a>: Wrong truncations of timestamps before the epoch to hours and days</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31256">[SPARK-31256]</a>: Dropna doesn&#8217;t work for struct columns</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31312">[SPARK-31312]</a>: Transforming Hive simple UDF (using JAR) expression may incur CNFE in later evaluation</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31420">[SPARK-31420]</a>: Infinite timeline redraw in job details page</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31485">[SPARK-31485]</a>: Barrier stage can hang if only partial tasks launched</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31500">[SPARK-31500]</a>: collect_set() of BinaryType returns duplicate elements</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31503">[SPARK-31503]</a>: fix the SQL string of the TRIM functions</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31663">[SPARK-31663]</a>: Grouping sets with having clause returns the wrong result</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-26908">[SPARK-26908]</a>: Fix toMilis</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31563">[SPARK-31563]</a>: Failure of Inset.sql for UTF8String collection</li>
</ul>

<h3 id="dependency-changes">Dependency Changes</h3>

<p>While being a maintence release we did still upgrade some dependencies in this release they are:</p>
<ul>
  <li>netty-all to 4.1.47.Final (<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-20445">[CVE-2019-20445]</a>)</li>
  <li>Janino to 3.0.16 (SQL Generated code)</li>
  <li>aws-java-sdk-sts to 1.11.655 (required for kinesis client upgrade)</li>
  <li>snappy 1.1.7.5 (stability improvements &amp; ppc64le performance)</li>
</ul>

<h3 id="known-issues">Known issues</h3>
<ul>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-31170">[SPARK-31170]</a>: Spark Cli does not respect hive-site.xml and spark.sql.warehouse.dir</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-26021">[SPARK-26021]</a>: -0.0 and 0.0 not treated consistently, doesn&#8217;t match Hive</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-26154">[SPARK-26154]</a>: Stream-stream joins - left outer join gives inconsistent outpu</li>
  <li><a href="https://issues.apache.org/jira/browse/SPARK-28344">[SPARK-28344]</a>: Fail the query if detect ambiguous self join</li>
</ul>

<p>You can consult JIRA for the <a href="https://s.apache.org/spark-2.4.6">detailed changes</a>.</p>

<p>We would like to acknowledge all community members for contributing patches to this release.</p>


<p>
<br/>
<a href="/news/">Spark News Archive</a>
</p>

  </div>
</div>



<footer class="small">
  <hr>
  Apache Spark, Spark, Apache, the Apache feather logo, and the Apache Spark project logo are either registered
  trademarks or trademarks of The Apache Software Foundation in the United States and other countries.
  See guidance on use of Apache Spark <a href="/trademarks.html">trademarks</a>.
  All other marks mentioned may be trademarks or registered trademarks of their respective owners.
  Copyright &copy; 2018 The Apache Software Foundation, Licensed under the
  <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.
</footer>

</div>

</body>
</html>
