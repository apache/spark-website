<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
     Spark Release 2.4.0 | Apache Spark
    
  </title>

  

  

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">
  <!-- Code highlighter CSS -->
  <link href="/css/pygments-default.css" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <script type="text/javascript">
  <!-- Google Analytics initialization -->
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32518208-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  <!-- Adds slight delay to links to allow async reporting -->
  function trackOutboundLink(link, category, action) {
    try {
      _gaq.push(['_trackEvent', category , action]);
    } catch(err){}

    setTimeout(function() {
      document.location.href = link.href;
    }, 100);
  }
  </script>
</head>
<body class="global">
<nav class="navbar navbar-expand-lg navbar-dark p-0 px-4" style="background: #1D6890;">
  <a class="navbar-brand" href="/">
    <img src="/images/spark-logo-rev.svg" alt="" width="141" height="72">
  </a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
          aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse col-md-12 col-lg-auto pt-4" id="navbarContent">

    <ul class="navbar-nav me-auto">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="/downloads.html">Download</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="libraries" role="button" data-bs-toggle="dropdown"
           aria-expanded="false">
          Libraries
        </a>
        <ul class="dropdown-menu" aria-labelledby="libraries">
          <li><a class="dropdown-item" href="/sql/">SQL and DataFrames</a></li>
          <li><a class="dropdown-item" href="/streaming/">Spark Streaming</a></li>
          <li><a class="dropdown-item" href="/mllib/">MLlib (machine learning)</a></li>
          <li><a class="dropdown-item" href="/graphx/">GraphX (graph)</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" href="/third-party-projects.html">Third-Party Projects</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="documentation" role="button" data-bs-toggle="dropdown"
           aria-expanded="false">
          Documentation
        </a>
        <ul class="dropdown-menu" aria-labelledby="documentation">
          <li><a class="dropdown-item" href="/docs/latest/">Latest Release (Spark 3.2.1)</a></li>
          <li><a class="dropdown-item" href="/documentation.html">Older Versions and Other Resources</a></li>
          <li><a class="dropdown-item" href="/faq.html">Frequently Asked Questions</a></li>
        </ul>
      </li>
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="/examples.html">Examples</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="community" role="button" data-bs-toggle="dropdown"
           aria-expanded="false">
          Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community">
          <li><a class="dropdown-item" href="/community.html">Mailing Lists &amp; Resources</a></li>
          <li><a class="dropdown-item" href="/contributing.html">Contributing to Spark</a></li>
          <li><a class="dropdown-item" href="/improvement-proposals.html">Improvement Proposals (SPIP)</a>
          </li>
          <li><a class="dropdown-item" href="https://issues.apache.org/jira/browse/SPARK">Issue Tracker</a>
          </li>
          <li><a class="dropdown-item" href="/powered-by.html">Powered By</a></li>
          <li><a class="dropdown-item" href="/committers.html">Project Committers</a></li>
          <li><a class="dropdown-item" href="/history.html">Project History</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="developers" role="button" data-bs-toggle="dropdown"
           aria-expanded="false">
          Developers
        </a>
        <ul class="dropdown-menu" aria-labelledby="developers">
          <li><a class="dropdown-item" href="/developer-tools.html">Useful Developer Tools</a></li>
          <li><a class="dropdown-item" href="/versioning-policy.html">Versioning Policy</a></li>
          <li><a class="dropdown-item" href="/release-process.html">Release Process</a></li>
          <li><a class="dropdown-item" href="/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="apacheFoundation" role="button"
           data-bs-toggle="dropdown" aria-expanded="false">
          Apache Software Foundation
        </a>
        <ul class="dropdown-menu" aria-labelledby="apacheFoundation">
          <li><a class="dropdown-item" href="https://www.apache.org/">Apache Homepage</a></li>
          <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License</a></li>
          <li><a class="dropdown-item"
                 href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
          <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a class="dropdown-item" href="https://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<div class="container">
  <div class="row mt-4">
    <div class="col-12 col-md-9">
      <h2>Spark Release 2.4.0</h2>


<p>Apache Spark 2.4.0 is the fifth release in the 2.x line. This release adds Barrier Execution Mode for better integration with deep learning frameworks, introduces 30+ built-in and higher-order functions to deal with complex data type easier, improves the K8s integration, along with experimental Scala 2.12 support. Other major updates include the built-in Avro data source, Image data source, flexible streaming sinks, elimination of the 2GB block size limitation during transfer, Pandas UDF improvements. In addition, this release continues to focus on usability, stability, and polish while resolving around 1100 tickets.</p>

<p>To download Apache Spark 2.4.0, visit the <a href="/downloads.html">downloads</a> page. You can consult JIRA for the <a href="https://s.apache.org/spark-2.4.0">detailed changes</a>. We have curated a list of high level changes here, grouped by major modules.</p>

<ul id="markdown-toc">
  <li><a href="#core-and-spark-sql" id="markdown-toc-core-and-spark-sql">Core and Spark SQL</a></li>
  <li><a href="#structured-streaming" id="markdown-toc-structured-streaming">Structured Streaming</a></li>
  <li><a href="#mllib" id="markdown-toc-mllib">MLlib</a></li>
  <li><a href="#sparkr" id="markdown-toc-sparkr">SparkR</a></li>
  <li><a href="#graphx" id="markdown-toc-graphx">GraphX</a></li>
  <li><a href="#deprecations" id="markdown-toc-deprecations">Deprecations</a></li>
  <li><a href="#changes-of-behavior" id="markdown-toc-changes-of-behavior">Changes of behavior</a></li>
  <li><a href="#known-issues" id="markdown-toc-known-issues">Known Issues</a></li>
  <li><a href="#credits" id="markdown-toc-credits">Credits</a></li>
</ul>

<h3 id="core-and-spark-sql">Core and Spark SQL</h3>

<ul>
  <li><strong>Major features</strong>
    <ul>
      <li><strong>Barrier Execution Mode</strong>: [<a href="https://issues.apache.org/jira/browse/SPARK-24374">SPARK-24374</a>] Support Barrier Execution Mode in the scheduler, to better integrate with deep learning frameworks.</li>
      <li><strong>Scala 2.12 Support</strong>: [<a href="https://issues.apache.org/jira/browse/SPARK-14220">SPARK-14220</a>] Add experimental Scala 2.12 support. Now you can build Spark with Scala 2.12 and write Spark applications in Scala 2.12.</li>
      <li><strong>Higher-order functions</strong>: [<a href="https://issues.apache.org/jira/browse/SPARK-23899">SPARK-23899</a>] Add a lot of new built-in functions, including higher-order functions, to deal with complex data types easier.</li>
      <li><strong>Built-in Avro data source</strong>: [<a href="https://issues.apache.org/jira/browse/SPARK-24768">SPARK-24768</a>] Inline Spark-Avro package with logical type support, better performance and usability.</li>
    </ul>
  </li>
  <li><strong>API</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24035">SPARK-24035</a>] SQL syntax for Pivot</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24940">SPARK-24940</a>] Coalesce and Repartition Hint for SQL Queries</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-19602">SPARK-19602</a>] Support column resolution of fully qualified column name</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-21274">SPARK-21274</a>] Implement EXCEPT ALL and INTERSECT ALL</li>
    </ul>
  </li>
  <li><strong>Performance and stability</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-16406">SPARK-16406</a>] Reference resolution for large number of columns should be faster</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23486">SPARK-23486</a>] Cache the function name from the external catalog for lookupFunctions</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23803">SPARK-23803</a>] Support Bucket Pruning</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24802">SPARK-24802</a>] Optimization Rule Exclusion</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-4502">SPARK-4502</a>] Nested schema pruning for Parquet tables</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24296">SPARK-24296</a>] Support replicating blocks larger than 2 GB</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24307">SPARK-24307</a>] Support sending messages over 2GB from memory</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23243">SPARK-23243</a>] Shuffle+Repartition on an RDD could lead to incorrect answers</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25181">SPARK-25181</a>] Limited the size of BlockManager master and slave thread pools, lowering memory overhead when networking is slow</li>
    </ul>
  </li>
  <li><strong>Connectors</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23972">SPARK-23972</a>] Update Parquet from 1.8.2 to 1.10.0</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25419">SPARK-25419</a>] Parquet predicate pushdown improvement</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23456">SPARK-23456</a>] Native ORC reader is on by default</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22279">SPARK-22279</a>] Use native ORC reader to read Hive serde tables by default</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-21783">SPARK-21783</a>] Turn on ORC filter push-down by default</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24959">SPARK-24959</a>] Speed up count() for JSON and CSV</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24244">SPARK-24244</a>] Parsing only required columns to the CSV parser</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23786">SPARK-23786</a>] CSV schema validation - column names are not checked</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24423">SPARK-24423</a>] Option query for specifying the query to read from JDBC</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22814">SPARK-22814</a>] Support Date/Timestamp in JDBC partition column</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24771">SPARK-24771</a>] Update Avro from 1.7.7 to 1.8</li>
    </ul>
  </li>
  <li><strong>Kubernetes Scheduler Backend</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23984">SPARK-23984</a>] PySpark bindings for K8S</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24433">SPARK-24433</a>] R bindings for K8S</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23146">SPARK-23146</a>] Support client mode for Kubernetes cluster backend</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23529">SPARK-23529</a>] Support for mounting K8S volumes</li>
    </ul>
  </li>
  <li><strong>PySpark</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24215">SPARK-24215</a>] Implement eager evaluation for DataFrame APIs</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22274">SPARK-22274</a>] User-defined aggregation functions with Pandas UDF</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22239">SPARK-22239</a>] User-defined window functions with Pandas UDF</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24396">SPARK-24396</a>] Add Structured Streaming ForeachWriter for Python</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23874">SPARK-23874</a>] Upgrade Apache Arrow to 0.10.0</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25004">SPARK-25004</a>] Add spark.executor.pyspark.memory limit</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23030">SPARK-23030</a>] Use Arrow stream format for creating from and collecting Pandas DataFrames</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24624">SPARK-24624</a>] Support mixture of Python UDF and Scalar Pandas UDF</li>
    </ul>
  </li>
  <li><strong>Other notable changes</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24596">SPARK-24596</a>] Non-cascading Cache Invalidation</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23880">SPARK-23880</a>] Do not trigger any job for caching data</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23510">SPARK-23510</a>] Support Hive 2.2 and Hive 2.3 metastore</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23711">SPARK-23711</a>] Add fallback generator for UnsafeProjection</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24626">SPARK-24626</a>] Parallelize location size calculation in Analyze Table command</li>
    </ul>
  </li>
</ul>

<p><em>Programming guides: <a href="/docs/2.4.0/rdd-programming-guide.html">Spark RDD Programming Guide</a> and <a href="/docs/2.4.0/sql-programming-guide.html">Spark SQL, DataFrames and Datasets Guide</a>.</em></p>

<h3 id="structured-streaming">Structured Streaming</h3>

<ul>
  <li><strong>Major features</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24565">SPARK-24565</a>] Exposed the output rows of each microbatch as a DataFrame using foreachBatch (Python, Scala, and Java)</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24396">SPARK-24396</a>] Added Python API for foreach and ForeachWriter</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25005">SPARK-25005</a>] Support “kafka.isolation.level” to read only committed records from Kafka topics that are written using a transactional producer.</li>
    </ul>
  </li>
  <li><strong>Other notable changes</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24662">SPARK-24662</a>] Support the LIMIT operator for streams in Append or Complete mode</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24763">SPARK-24763</a>] Remove redundant key data from value in streaming aggregation</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24156">SPARK-24156</a>] Faster generation of output results and/or state cleanup with stateful operations (mapGroupsWithState, stream-stream join, streaming aggregation, streaming dropDuplicates) when there is no data in the input stream.</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24730">SPARK-24730</a>] Support for choosing either the min or max watermark when there are multiple input streams in a query</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25399">SPARK-25399</a>] Fixed a bug where reusing execution threads from continuous processing for microbatch streaming can result in a correctness issue</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-18057">SPARK-18057</a>] Upgraded Kafka client version from 0.10.0.1 to 2.0.0</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.4.0/structured-streaming-programming-guide.html">Structured Streaming Programming Guide</a>.</em></p>

<h3 id="mllib">MLlib</h3>

<ul>
  <li><strong>Major features</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22666">SPARK-22666</a>] Spark datasource for image format</li>
    </ul>
  </li>
  <li><strong>Other notable changes</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-22119">SPARK-22119</a>] Add cosine distance measure to KMeans/BisectingKMeans/Clustering evaluator</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-10697">SPARK-10697</a>] Lift Calculation in Association Rule mining</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-14682">SPARK-14682</a>] Provide evaluateEachIteration method or equivalent for spark.ml GBTs</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-7132">SPARK-7132</a>] Add fit with validation set to spark.ml GBT</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-15784">SPARK-15784</a>] Add Power Iteration Clustering to spark.ml</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-15064">SPARK-15064</a>] Locale support in StopWordsRemover</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-21741">SPARK-21741</a>] Python API for DataFrame-based multivariate summarizer</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-21898">SPARK-21898</a>] Feature parity for KolmogorovSmirnovTest in MLlib</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-10884">SPARK-10884</a>] Support prediction on single instance for regression and classification related models</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23783">SPARK-23783</a>] Add new generic export trait for ML pipelines</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-11239">SPARK-11239</a>] PMML export for ML linear regression</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.4.0/ml-guide.html">Machine Learning Library (MLlib) Guide</a>.</em></p>

<h3 id="sparkr">SparkR</h3>

<ul>
  <li><strong>Major features</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25393">SPARK-25393</a>] Adding new function from_csv()</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-21291">SPARK-21291</a>] add R partitionBy API in DataFrame</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25007">SPARK-25007</a>] Add array_intersect/array_except/array_union/shuffle to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25234">SPARK-25234</a>] avoid integer overflow in parallelize</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25117">SPARK-25117</a>] Add EXCEPT ALL and INTERSECT ALL support in R</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24537">SPARK-24537</a>] Add array_remove / array_zip / map_from_arrays / array_distinct</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24187">SPARK-24187</a>] Add array_join function to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24331">SPARK-24331</a>] Adding arrays_overlap, array_repeat, map_entries to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24198">SPARK-24198</a>] Adding slice function to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24197">SPARK-24197</a>] Adding array_sort function to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24185">SPARK-24185</a>] add flatten function to SparkR</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24069">SPARK-24069</a>] Add array_min / array_max functions</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24054">SPARK-24054</a>] Add array_position function / element_at functions</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23770">SPARK-23770</a>] Add repartitionByRange API in SparkR</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.4.0/sparkr.html">SparkR (R on Spark)</a>.</em></p>

<h3 id="graphx">GraphX</h3>

<ul>
  <li><strong>Major features</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25268">SPARK-25268</a>] run Parallel Personalized PageRank throws serialization Exception</li>
    </ul>
  </li>
</ul>

<p><em>Programming guide: <a href="/docs/2.4.0/graphx-programming-guide.html">GraphX Programming Guide</a>.</em></p>

<h3 id="deprecations">Deprecations</h3>

<ul>
  <li><strong>MLlib</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23451">SPARK-23451</a>] Deprecate KMeans computeCost</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25345">SPARK-25345</a>] Deprecate readImages APIs from ImageSchema</li>
    </ul>
  </li>
</ul>

<h3 id="changes-of-behavior">Changes of behavior</h3>

<ul>
  <li><strong>Spark Core</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25088">SPARK-25088</a>] Rest Server default &amp; doc updates</li>
    </ul>
  </li>
  <li><strong>Spark SQL</strong>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23549">SPARK-23549</a>] Cast to timestamp when comparing timestamp with date</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24324">SPARK-24324</a>] Pandas Grouped Map UDF should assign result columns by name</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23425">SPARK-23425</a>] load data for hdfs file path with wildcard usage is not working properly</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-23173">SPARK-23173</a>] from_json can produce nulls for fields which are marked as non-nullable</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24966">SPARK-24966</a>] Implement precedence rules for set operations</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25708">SPARK-25708</a>] HAVING without GROUP BY should be global aggregate</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24341">SPARK-24341</a>] Correctly handle multi-value IN subquery</li>
      <li>[<a href="https://issues.apache.org/jira/browse/SPARK-19724">SPARK-19724</a>] Create a managed table with an existed default location should throw an exception</li>
    </ul>
  </li>
</ul>

<p><em>Please read the <a href="/docs/2.4.0/sql-migration-guide-upgrade.html#upgrading-from-spark-sql-23-to-24">Migration Guide</a> for all the behavior changes</em></p>

<h3 id="known-issues">Known Issues</h3>

<ul>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25271">SPARK-25271</a>] CTAS with Hive parquet tables should leverage native parquet source</li>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-24935">SPARK-24935</a>] Problem with Executing Hive UDAF&#8217;s from Spark 2.2 Onwards</li>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25879">SPARK-25879</a>] Schema pruning fails when a nested field and top level field are selected</li>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25906">SPARK-25906</a>] spark-shell cannot handle <code class="language-plaintext highlighter-rouge">-i</code> option correctly</li>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25921">SPARK-25921</a>] Python worker reuse causes Barrier tasks to run without BarrierTaskContext</li>
  <li>[<a href="https://issues.apache.org/jira/browse/SPARK-25918">SPARK-25918</a>] LOAD DATA LOCAL INPATH should handle a relative path</li>
</ul>

<h3 id="credits">Credits</h3>
<p>Last but not least, this release would not have been possible without the following contributors:
Achuth17, Adam Bradbury, Adamyuanyuan, Adelbert Chang, Ala Luszczak, Aleksandr Koriagin, Alessandro Bellina, Alessandro Solimando, Andrew Korzhuev, Anton Okolnychyi, Antonio Murgia, Arseniy Tashoyan, Artem Rudoy, Arun Mahadevan, Asher Saban, Bago Amirbekian, Benjamin Peterson, Bo Meng, Bogdan Raducanu, Bounkong Khamphousone, Brandon Krieger, Brian Lindblom, Bruce Robbins, Bryan Cutler, Cheng Lian, Chongguang LIU, Chris Horn, Chris Martin, Cody Koeninger, DB Tsai, Daniel Sakuma, Daniel Van Der Ende, Darcy Shen, David Vogelbacher, Devaraj K, Dhruve Ashar, Dilip Biswal, Dongjoon Hyun, DylanGuedes, Efim Poberezkin, Eric Chang, Eric Liang, Erik Erlandson, Eyal Farago, Fangshi Li, Felix Cheung, Feng Liu, Fernando Pereira, Florent Pepin, Fokko Driesprong, Gabor Somogyi, Gengliang Wang, Ger Van Rossum, Gera Shegalov, Goun Na, Hao Ren, Henry Robinson, Herman Van Hovell, Hieu Huynh, Holden Karau, Huang Tengfei, Huaxin Gao, Hyukjin Kwon, Ilan Filonenko, Imran Rashid, Jacek Laskowski, Jake Charland, James Thompson, James Yu, Jaroslav Chladek, Jeff Zhang, JiahuiJiang, Jim Kleckner, Joey Krabacher, John Zhuge, Jongyoul Lee, Jooseong Kim, Jose Torres, Joseph Bradley, Joseph K. Bradley, Josh Rosen, Julien Cuquemelle, Juliusz Sompolski, Jungtaek Lim, KaiXinXIaoLei, Kallman, Steven, Karthik Palaniappan, Kaya Kupferschmidt, Kazuaki Ishizaki, Kelley Robinson, Kent Yao, Kevin Yu, KevinZwx, Koert Kuipers, Kousuke Saruta, Kris Mok, LantaoJin, Lee Dongjin, Lemonjing, Li Jin, Liang-Chi Hsieh, Lu WANG, LucaCanali, Marcelo Vanzin, Marco Gaido, Marek Novotny, Mario Molina, Mark Petruska, Maryann Xue, Mathieu St-Louis, Matthew Cheah, Matthew Tovbin, Mauro Palsgraaf, Maxim Gekk, Michael (Stu) Stewart, Michael Allman, Michael Chirico, Michael Mior, Michal Switakowski, Mihaly Toth, Miklos C, Miles Yucht, Misha Dmitriev, Mukul Murthy, Mykhailo Shtelma, Neal Song, Ngone51, Nihar Sheth, Nolan Emirot, Norman Maurer, Onur Satici, Patrick McGloin, Patrick Pisciuneri, Paul Mackles, Peter Toth, Prashant Sharma, Rao Fu, Ray Burgemeestre, Rekha Joshi, Reynold Xin, Reza Safi, Ricardo Martinelli De Oliveira, Rob Vesse, Robert Kruszewski, Rong Tang, Ryan Blue, Sahil Takiar, Saisai Shao, Sandeep Singh, Sandor Murakozi, Sanket Chintapalli, Santiago Saavedra, Sean Owen, Sean Suchter, Sebastian Arzt, Shane Knapp, Shixiong Zhu, Soham Aurangabadkar, Stacy Kerkela, Stan Zhai, Stavros Kontopoulos, Steve Loughran, Sunitha Kambhampati, Takeshi Yamamuro, Takuya UESHIN, Tathagata Das, Ted Yu, Teng Peng, Thiruvasakan Paramasivan, Thomas Graves, Tom Saleeba, Vayda, Oleksandr: IT (PRG), Vinod KC, Vladimir Kuriatkov, Wang Gengliang, Weichen Xu, Wenbo Zhao, Wenchen Fan, William Sheu, XD-DENG, Xiangrui Meng, Xianjin YE, Xianyang Liu, Xiao Li, Xiaogang Tu, Xiayun Sun, Xingbo Jiang, Yacine Mazari, Yash Sharma, Ye Zhou, Yinan Li, Yogesh Garg, Yuanbo Liu, Yuanjian Li, Yuchen Huo, Yuexin Zhang, Yuming Wang, Yuval Itzchakov, Zhan Zhang, Zhang Le, Zheng RuiFeng, Zoltan C. Toth</p>


<p>
<br/>
<a href="/news/">Spark News Archive</a>
</p>

    </div>
    <div class="col-12 col-md-3">
      <div class="news" style="margin-bottom: 20px;">
        <h5>Latest News</h5>
        <ul class="list-unstyled">
          
          <li><a href="/news/spark-3-2-1-released.html">Spark 3.2.1 released</a>
            <span class="small">(Jan 26, 2022)</span></li>
          
          <li><a href="/news/spark-3-2-0-released.html">Spark 3.2.0 released</a>
            <span class="small">(Oct 13, 2021)</span></li>
          
          <li><a href="/news/spark-3-0-3-released.html">Spark 3.0.3 released</a>
            <span class="small">(Jun 23, 2021)</span></li>
          
          <li><a href="/news/spark-3-1-2-released.html">Spark 3.1.2 released</a>
            <span class="small">(Jun 01, 2021)</span></li>
          
        </ul>
        <p class="small" style="text-align: right;"><a href="/news/index.html">Archive</a></p>
      </div>
      <div style="text-align:center; margin-bottom: 20px;">
        <a href="https://www.apache.org/events/current-event.html">
          <img src="https://www.apache.org/events/current-event-234x60.png" style="max-width: 100%;"/>
        </a>
      </div>
      <div class="hidden-xs hidden-sm">
        <a href="/downloads.html" class="btn btn-cta btn-lg d-grid" style="margin-bottom: 30px;">
          Download Spark
        </a>
        <p style="font-size: 16px; font-weight: 500; color: #555;">
          Built-in Libraries:
        </p>
        <ul class="list-none">
          <li><a href="/sql/">SQL and DataFrames</a></li>
          <li><a href="/streaming/">Spark Streaming</a></li>
          <li><a href="/mllib/">MLlib (machine learning)</a></li>
          <li><a href="/graphx/">GraphX (graph)</a></li>
        </ul>
        <a href="/third-party-projects.html">Third-Party Projects</a>
      </div>
    </div>
  </div>

  

  <footer class="small">
    <hr>
    Apache Spark, Spark, Apache, the Apache feather logo, and the Apache Spark project logo are either registered
    trademarks or trademarks of The Apache Software Foundation in the United States and other countries.
    See guidance on use of Apache Spark <a href="/trademarks.html">trademarks</a>.
    All other marks mentioned may be trademarks or registered trademarks of their respective owners.
    Copyright &copy; 2018 The Apache Software Foundation, Licensed under the
    <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.
  </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery.js"></script>
<script src="/js/lang-tabs.js"></script>
<script src="/js/downloads.js"></script>
</body>
</html>
