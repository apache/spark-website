<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
     Spark Release 2.4.7 | Apache Spark
    
  </title>

  

  

  <!-- Bootstrap core CSS -->
  <link href="/css/cerulean.min.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">

  <!-- Code highlighter CSS -->
  <link href="/css/pygments-default.css" rel="stylesheet">

  <script type="text/javascript">
  <!-- Google Analytics initialization -->
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32518208-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  <!-- Adds slight delay to links to allow async reporting -->
  function trackOutboundLink(link, category, action) {
    try {
      _gaq.push(['_trackEvent', category , action]);
    } catch(err){}

    setTimeout(function() {
      document.location.href = link.href;
    }, 100);
  }
  </script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script src="/js/lang-tabs.js"></script>
<script src="/js/downloads.js"></script>

<div class="container" style="max-width: 1200px;">

<div class="masthead">
  
    <p class="lead">
      <a href="/">
      <img src="/images/spark-logo-trademark.png"
        style="height:100px; width:auto; vertical-align: bottom; margin-top: 20px;"></a><span class="tagline">
          Lightning-fast unified analytics engine
      </span>
    </p>
  
</div>

<nav class="navbar navbar-default" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse"
            data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li><a href="/downloads.html">Download</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Libraries <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/sql/">SQL and DataFrames</a></li>
          <li><a href="/streaming/">Spark Streaming</a></li>
          <li><a href="/mllib/">MLlib (machine learning)</a></li>
          <li><a href="/graphx/">GraphX (graph)</a></li>
          <li class="divider"></li>
          <li><a href="/third-party-projects.html">Third-Party Projects</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Documentation <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/docs/latest/">Latest Release (Spark 3.1.2)</a></li>
          <li><a href="/documentation.html">Older Versions and Other Resources</a></li>
          <li><a href="/faq.html">Frequently Asked Questions</a></li>
        </ul>
      </li>
      <li><a href="/examples.html">Examples</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Community <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/community.html">Mailing Lists &amp; Resources</a></li>
          <li><a href="/contributing.html">Contributing to Spark</a></li>
          <li><a href="/improvement-proposals.html">Improvement Proposals (SPIP)</a></li>
          <li><a href="https://issues.apache.org/jira/browse/SPARK">Issue Tracker</a></li>
          <li><a href="/powered-by.html">Powered By</a></li>
          <li><a href="/committers.html">Project Committers</a></li>
          <li><a href="/history.html">Project History</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
           Developers <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/developer-tools.html">Useful Developer Tools</a></li>
          <li><a href="/versioning-policy.html">Versioning Policy</a></li>
          <li><a href="/release-process.html">Release Process</a></li>
          <li><a href="/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="https://www.apache.org/" class="dropdown-toggle" data-toggle="dropdown">
          Apache Software Foundation <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="https://www.apache.org/">Apache Homepage</a></li>
          <li><a href="https://www.apache.org/licenses/">License</a></li>
          <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
          <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a href="https://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <!-- /.navbar-collapse -->
</nav>


<div class="row">
  <div class="col-md-3 col-md-push-9">
    <div class="news" style="margin-bottom: 20px;">
      <h5>Latest News</h5>
      <ul class="list-unstyled">
        
          <li><a href="/news/spark-3-1-2-released.html">Spark 3.1.2 released</a>
          <span class="small">(Jun 01, 2021)</span></li>
        
          <li><a href="/news/spark-2-4-8-released.html">Spark 2.4.8 released</a>
          <span class="small">(May 17, 2021)</span></li>
        
          <li><a href="/news/new-repository-service.html">New repository service for spark-packages</a>
          <span class="small">(Apr 28, 2021)</span></li>
        
          <li><a href="/news/spark-3-1-1-released.html">Spark 3.1.1 released</a>
          <span class="small">(Mar 02, 2021)</span></li>
        
      </ul>
      <p class="small" style="text-align: right;"><a href="/news/index.html">Archive</a></p>
    </div>
    <div style="text-align:center; margin-bottom: 20px;">
      <a href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
    <div class="hidden-xs hidden-sm">
      <a href="/downloads.html" class="btn btn-success btn-lg btn-block" style="margin-bottom: 30px;">
        Download Spark
      </a>
      <p style="font-size: 16px; font-weight: 500; color: #555;">
        Built-in Libraries:
      </p>
      <ul class="list-none">
        <li><a href="/sql/">SQL and DataFrames</a></li>
        <li><a href="/streaming/">Spark Streaming</a></li>
        <li><a href="/mllib/">MLlib (machine learning)</a></li>
        <li><a href="/graphx/">GraphX (graph)</a></li>
      </ul>
      <a href="/third-party-projects.html">Third-Party Projects</a>
    </div>
  </div>

  <div class="col-md-9 col-md-pull-3">
    <h2>Spark Release 2.4.7</h2>


<p>Spark 2.4.7 is a maintenance release containing stability, correctness, and security fixes. This release is based on the branch-2.4 maintenance branch of Spark. We strongly recommend all 2.4 users to upgrade to this stable release.</p>

<h3 id="notable-changes">Notable changes</h3>
<p>[SPARK-28818] - FrequentItems applies an incorrect schema to the resulting dataframe when nulls are present</p>

<p>[SPARK-31511] - Make BytesToBytesMap iterator() thread-safe</p>

<p>[SPARK-31703] - Changes made by SPARK-26985 break reading parquet files correctly in BigEndian architectures (AIX + LinuxPPC64)</p>

<p>[SPARK-31854] - Different results of query execution with wholestage codegen on and off</p>

<p>[SPARK-31903] - toPandas with Arrow enabled doesn&#8217;t show metrics in Query UI.</p>

<p>[SPARK-31923] - Event log cannot be generated when some internal accumulators use unexpected types</p>

<p>[SPARK-31935] - Hadoop file system config should be effective in data source options</p>

<p>[SPARK-31941] - Handling the exception in SparkUI for getSparkUser method</p>

<p>[SPARK-31967] - Loading jobs UI page takes 40 seconds</p>

<p>[SPARK-31968] - write.partitionBy() creates duplicate subdirectories when user provides duplicate columns</p>

<p>[SPARK-31980] - Spark sequence() fails if start and end of range are identical dates</p>

<p>[SPARK-31997] - Should drop test_udtf table when SingleSessionSuite completed</p>

<p>[SPARK-32000] - Fix the flaky testcase for partially launched task in barrier-mode.</p>

<p>[SPARK-32003] - Shuffle files for lost executor are not unregistered if fetch failure occurs after executor is lost</p>

<p>[SPARK-32024] - Disk usage tracker went negative in HistoryServerDiskManager</p>

<p>[SPARK-32028] - App id link in history summary page point to wrong application attempt</p>

<p>[SPARK-32034] - Port HIVE-14817: Shutdown the SessionManager timeoutChecker thread properly upon shutdown</p>

<p>[SPARK-32044] - [SS] 2.4 Kafka continuous processing print mislead initial offsets log</p>

<p>[SPARK-32098] - Use iloc for positional slicing instead of direct slicing in createDataFrame with Arrow</p>

<p>[SPARK-32115] - Incorrect results for SUBSTRING when overflow</p>

<p>[SPARK-32131] - Fix AnalysisException messages at UNION/INTERSECT/EXCEPT/MINUS operations</p>

<p>[SPARK-32167] - nullability of GetArrayStructFields is incorrect</p>

<p>[SPARK-32214] - The type conversion function generated in makeFromJava for &#8220;other&#8221; type uses a wrong variable.</p>

<p>[SPARK-32238] - Use Utils.getSimpleName to avoid hitting Malformed class name in ScalaUDF</p>

<p>[SPARK-32280] - AnalysisException thrown when query contains several JOINs</p>

<p>[SPARK-32300] - toPandas with no partitions should work</p>

<p>[SPARK-32344] - Unevaluable expr is set to FIRST/LAST ignoreNullsExpr in distinct aggregates</p>

<p>[SPARK-32364] - Use CaseInsensitiveMap for DataFrameReader/Writer options</p>

<p>[SPARK-32372] - &#8220;Resolved attribute(s) XXX missing&#8221; after dudup conflict references</p>

<p>[SPARK-32377] - CaseInsensitiveMap should be deterministic for addition</p>

<p>[SPARK-32609] - Incorrect exchange reuse with DataSourceV2</p>

<p>[SPARK-32672] - Data corruption in some cached compressed boolean columns</p>

<p>[SPARK-32693] - Compare two dataframes with same schema except nullable property</p>

<p>[SPARK-32771] - The example of expressions.Aggregator in Javadoc / Scaladoc is wrong</p>

<p>[SPARK-32810] - CSV/JSON data sources should avoid globbing paths when inferring schema</p>

<p>[SPARK-32812] - Run tests script for Python fails in certain environments</p>

<h3 id="dependency-changes">Dependency Changes</h3>

<h3 id="known-issues">Known issues</h3>

<p>You can consult JIRA for the <a href="https://s.apache.org/v2.4.7-release-notes">detailed changes</a>.</p>

<p>We would like to acknowledge all community members for contributing patches to this release.</p>



<p>
<br/>
<a href="/news/">Spark News Archive</a>
</p>

  </div>
</div>



<footer class="small">
  <hr>
  Apache Spark, Spark, Apache, the Apache feather logo, and the Apache Spark project logo are either registered
  trademarks or trademarks of The Apache Software Foundation in the United States and other countries.
  See guidance on use of Apache Spark <a href="/trademarks.html">trademarks</a>.
  All other marks mentioned may be trademarks or registered trademarks of their respective owners.
  Copyright &copy; 2018 The Apache Software Foundation, Licensed under the
  <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.
</footer>

</div>

</body>
</html>
