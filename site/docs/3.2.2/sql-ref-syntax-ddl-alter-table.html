
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>ALTER TABLE - Spark 3.2.2 Documentation</title>
        

        

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <style>
            body {
                padding-top: 60px;
                padding-bottom: 40px;
            }
        </style>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>

        <link rel="stylesheet" href="css/pygments-default.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <link rel="stylesheet" href="css/docsearch.css">

    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="https://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

        <nav class="navbar fixed-top navbar-expand-md navbar-light bg-light" id="topbar">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-brand"><a href="index.html">
                        <img src="img/spark-logo-hd.png" style="height:50px;"/></a><span class="version">3.2.2</span>
                    </div>
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarCollapse" aria-controls="navbarCollapse"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav">
                        <!--TODO(andyk): Add class="active" attribute to li some how.-->
                        <li class="nav-item"><a href="index.html" class="nav-link">Overview</a></li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" id="navbarQuickStart" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Programming Guides</a>
                            <div class="dropdown-menu" aria-labelledby="navbarQuickStart">
                                <a class="dropdown-item" href="quick-start.html">Quick Start</a>
                                <a class="dropdown-item" href="rdd-programming-guide.html">RDDs, Accumulators, Broadcasts Vars</a>
                                <a class="dropdown-item" href="sql-programming-guide.html">SQL, DataFrames, and Datasets</a>
                                <a class="dropdown-item" href="structured-streaming-programming-guide.html">Structured Streaming</a>
                                <a class="dropdown-item" href="streaming-programming-guide.html">Spark Streaming (DStreams)</a>
                                <a class="dropdown-item" href="ml-guide.html">MLlib (Machine Learning)</a>
                                <a class="dropdown-item" href="graphx-programming-guide.html">GraphX (Graph Processing)</a>
                                <a class="dropdown-item" href="sparkr.html">SparkR (R on Spark)</a>
                                <a class="dropdown-item" href="api/python/getting_started/index.html">PySpark (Python on Spark)</a>
                            </div>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" id="navbarAPIDocs" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">API Docs</a>
                            <div class="dropdown-menu" aria-labelledby="navbarAPIDocs">
                                <a class="dropdown-item" href="api/scala/org/apache/spark/index.html">Scala</a>
                                <a class="dropdown-item" href="api/java/index.html">Java</a>
                                <a class="dropdown-item" href="api/python/index.html">Python</a>
                                <a class="dropdown-item" href="api/R/index.html">R</a>
                                <a class="dropdown-item" href="api/sql/index.html">SQL, Built-in Functions</a>
                            </div>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" id="navbarDeploying" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Deploying</a>
                            <div class="dropdown-menu" aria-labelledby="navbarDeploying">
                                <a class="dropdown-item" href="cluster-overview.html">Overview</a>
                                <a class="dropdown-item" href="submitting-applications.html">Submitting Applications</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="spark-standalone.html">Spark Standalone</a>
                                <a class="dropdown-item" href="running-on-mesos.html">Mesos</a>
                                <a class="dropdown-item" href="running-on-yarn.html">YARN</a>
                                <a class="dropdown-item" href="running-on-kubernetes.html">Kubernetes</a>
                            </div>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" id="navbarMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More</a>
                            <div class="dropdown-menu" aria-labelledby="navbarMore">
                                <a class="dropdown-item" href="configuration.html">Configuration</a>
                                <a class="dropdown-item" href="monitoring.html">Monitoring</a>
                                <a class="dropdown-item" href="tuning.html">Tuning Guide</a>
                                <a class="dropdown-item" href="job-scheduling.html">Job Scheduling</a>
                                <a class="dropdown-item" href="security.html">Security</a>
                                <a class="dropdown-item" href="hardware-provisioning.html">Hardware Provisioning</a>
                                <a class="dropdown-item" href="migration-guide.html">Migration Guide</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="building-spark.html">Building Spark</a>
                                <a class="dropdown-item" href="https://spark.apache.org/contributing.html">Contributing to Spark</a>
                                <a class="dropdown-item" href="https://spark.apache.org/third-party-projects.html">Third Party Projects</a>
                            </div>
                        </li>

                        <li class="nav-item">
                            <input type="text" id="docsearch-input" placeholder="Search the docsâ€¦">
                        </li>
                    </ul>
                    <!--<span class="navbar-text navbar-right"><span class="version-text">v3.2.2</span></span>-->
                </div>
            </div>
        </nav>

        <div class="container-wrapper">

            
                
                    <div class="left-menu-wrapper">
    <div class="left-menu">
        <h3><a href="sql-programming-guide.html">Spark SQL Guide</a></h3>
        
<ul>

    <li>
        <a href="sql-getting-started.html">
            
                Getting Started
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-data-sources.html">
            
                Data Sources
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-performance-tuning.html">
            
                Performance Tuning
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-distributed-sql-engine.html">
            
                Distributed SQL Engine
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-pyspark-pandas-with-arrow.html">
            
                PySpark Usage Guide for Pandas with Apache Arrow
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-migration-old.html">
            
                Migration Guide
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref.html">
            
                SQL Reference
            
        </a>
    </li>
    
    
        
<ul>

    <li>
        <a href="sql-ref-ansi-compliance.html">
            
                ANSI Compliance
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-datatypes.html">
            
                Data Types
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-datetime-pattern.html">
            
                Datetime Pattern
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-functions.html">
            
                Functions
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-identifier.html">
            
                Identifiers
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-literals.html">
            
                Literals
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-null-semantics.html">
            
                Null Semantics
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-syntax.html">
            
                SQL Syntax
            
        </a>
    </li>
    
    
        
<ul>

    <li>
        <a href="sql-ref-syntax.html#ddl-statements">
            
                Data Definition Statements
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-syntax.html#dml-statements">
            
                Data Manipulation Statements
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-syntax.html#data-retrieval-statements">
            
                Data Retrieval(Queries)
            
        </a>
    </li>
    
    

    <li>
        <a href="sql-ref-syntax.html#auxiliary-statements">
            
                Auxiliary Statements
            
        </a>
    </li>
    
    

</ul>

    

</ul>

    

</ul>

    </div>
</div>
                
                <input id="nav-trigger" class="nav-trigger" checked type="checkbox">
                <label for="nav-trigger"></label>
                <div class="content-with-sidebar mr-3" id="content">
                    
                        <h1 class="title">ALTER TABLE</h1>
                    

                    <h3 id="description">Description</h3>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE</code> statement changes the schema or properties of a table.</p>

<h3 id="rename">RENAME</h3>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE RENAME TO</code> statement changes the table name of an existing table in the database. The table rename command cannot be used to move a table between databases, only to rename a table within the same database.</p>

<p>If the table is cached, the commands clear cached data of the table. The cache will be lazily filled when the next time the table is accessed. Additionally:</p>
<ul>
  <li>the table rename command uncaches all table&#8217;s dependents such as views that refer to the table. The dependents should be cached again explicitly.</li>
  <li>the partition rename command clears caches of all table dependents while keeping them as cached. So, their caches will be lazily filled when the next time they are accessed.</li>
</ul>

<h4 id="syntax">Syntax</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">table_identifier</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="n">partition_spec</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">partition_spec</span>
</code></pre></div></div>

<h4 id="parameters">Parameters</h4>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>partition_spec</strong></p>

    <p>Partition to be renamed. Note that one can use a typed literal (e.g., date&#8217;2019-01-02&#8217;) in the partition spec.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">PARTITION ( partition_col_name  = partition_col_val [ , ... ] )</code></p>
  </li>
</ul>

<h3 id="add-columns">ADD COLUMNS</h3>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE ADD COLUMNS</code> statement adds mentioned columns to an existing table.</p>

<h4 id="syntax-1">Syntax</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="k">ADD</span> <span class="n">COLUMNS</span> <span class="p">(</span> <span class="n">col_spec</span> <span class="p">[</span> <span class="p">,</span> <span class="p">...</span> <span class="p">]</span> <span class="p">)</span>
</code></pre></div></div>

<h4 id="parameters-1">Parameters</h4>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>COLUMNS ( col_spec )</strong></p>

    <p>Specifies the columns to be added.</p>
  </li>
</ul>

<h3 id="alter-or-change-column">ALTER OR CHANGE COLUMN</h3>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE ALTER COLUMN</code> or <code class="language-plaintext highlighter-rouge">ALTER TABLE CHANGE COLUMN</code> statement changes column&#8217;s definition.</p>

<h4 id="syntax-2">Syntax</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="err">{</span> <span class="k">ALTER</span> <span class="o">|</span> <span class="n">CHANGE</span> <span class="err">}</span> <span class="p">[</span> <span class="k">COLUMN</span> <span class="p">]</span> <span class="n">col_spec</span> <span class="n">alterColumnAction</span>
</code></pre></div></div>

<h4 id="parameters-2">Parameters</h4>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>COLUMNS ( col_spec )</strong></p>

    <p>Specifies the column to be altered or be changed.</p>
  </li>
  <li>
    <p><strong>alterColumnAction</strong></p>

    <p>Change column&#8217;s definition.</p>
  </li>
</ul>

<h3 id="add-and-drop-partition">ADD AND DROP PARTITION</h3>

<h4 id="add-partition">ADD PARTITION</h4>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE ADD</code> statement adds partition to the partitioned table.</p>

<p>If the table is cached, the command clears cached data of the table and all its dependents that refer to it. The cache will be lazily filled when the next time the table or the dependents are accessed.</p>

<h5 id="syntax-3">Syntax</h5>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="k">ADD</span> <span class="p">[</span><span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> 
    <span class="p">(</span> <span class="n">partition_spec</span> <span class="p">[</span> <span class="n">partition_spec</span> <span class="p">...</span> <span class="p">]</span> <span class="p">)</span>
</code></pre></div></div>

<h5 id="parameters-3">Parameters</h5>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>partition_spec</strong></p>

    <p>Partition to be added. Note that one can use a typed literal (e.g., date&#8217;2019-01-02&#8217;) in the partition spec.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">PARTITION ( partition_col_name  = partition_col_val [ , ... ] )</code></p>
  </li>
</ul>

<h4 id="drop-partition">DROP PARTITION</h4>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE DROP</code> statement drops the partition of the table.</p>

<p>If the table is cached, the command clears cached data of the table and all its dependents that refer to it. The cache will be lazily filled when the next time the table or the dependents are accessed.</p>

<h5 id="syntax-4">Syntax</h5>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="k">DROP</span> <span class="p">[</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="p">]</span> <span class="n">partition_spec</span> <span class="p">[</span><span class="n">PURGE</span><span class="p">]</span>
</code></pre></div></div>

<h5 id="parameters-4">Parameters</h5>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>partition_spec</strong></p>

    <p>Partition to be dropped. Note that one can use a typed literal (e.g., date&#8217;2019-01-02&#8217;) in the partition spec.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">PARTITION ( partition_col_name  = partition_col_val [ , ... ] )</code></p>
  </li>
</ul>

<h3 id="set-and-unset">SET AND UNSET</h3>

<h4 id="set-table-properties">SET TABLE PROPERTIES</h4>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE SET</code> command is used for setting the table properties. If a particular property was already set, 
this overrides the old value with the new one.</p>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE UNSET</code> is used to drop the table property.</p>

<h5 id="syntax-5">Syntax</h5>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Set Table Properties </span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="k">SET</span> <span class="n">TBLPROPERTIES</span> <span class="p">(</span> <span class="n">key1</span> <span class="o">=</span> <span class="n">val1</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="n">val2</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span>

<span class="c1">-- Unset Table Properties</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="n">UNSET</span> <span class="n">TBLPROPERTIES</span> <span class="p">[</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="p">]</span> <span class="p">(</span> <span class="n">key1</span><span class="p">,</span> <span class="n">key2</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span>
</code></pre></div></div>

<h4 id="set-serde">SET SERDE</h4>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE SET</code> command is used for setting the SERDE or SERDE properties in Hive tables. If a particular property was already set, this overrides the old value with the new one.</p>

<h5 id="syntax-6">Syntax</h5>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Set SERDE Properties</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="p">[</span> <span class="n">partition_spec</span> <span class="p">]</span>
    <span class="k">SET</span> <span class="n">SERDEPROPERTIES</span> <span class="p">(</span> <span class="n">key1</span> <span class="o">=</span> <span class="n">val1</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="n">val2</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="p">[</span> <span class="n">partition_spec</span> <span class="p">]</span> <span class="k">SET</span> <span class="n">SERDE</span> <span class="n">serde_class_name</span>
    <span class="p">[</span> <span class="k">WITH</span> <span class="n">SERDEPROPERTIES</span> <span class="p">(</span> <span class="n">key1</span> <span class="o">=</span> <span class="n">val1</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="n">val2</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span> <span class="p">]</span>
</code></pre></div></div>

<h4 id="set-location-and-set-file-format">SET LOCATION And SET FILE FORMAT</h4>

<p><code class="language-plaintext highlighter-rouge">ALTER TABLE SET</code> command can also be used for changing the file location and file format for 
existing tables.</p>

<p>If the table is cached, the <code class="language-plaintext highlighter-rouge">ALTER TABLE .. SET LOCATION</code> command clears cached data of the table and all its dependents that refer to it. The cache will be lazily filled when the next time the table or the dependents are accessed.</p>

<h5 id="syntax-7">Syntax</h5>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Changing File Format</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="p">[</span> <span class="n">partition_spec</span> <span class="p">]</span> <span class="k">SET</span> <span class="n">FILEFORMAT</span> <span class="n">file_format</span>

<span class="c1">-- Changing File Location</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_identifier</span> <span class="p">[</span> <span class="n">partition_spec</span> <span class="p">]</span> <span class="k">SET</span> <span class="k">LOCATION</span> <span class="s1">'new_location'</span>
</code></pre></div></div>

<h4 id="parameters-5">Parameters</h4>

<ul>
  <li>
    <p><strong>table_identifier</strong></p>

    <p>Specifies a table name, which may be optionally qualified with a database name.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">[ database_name. ] table_name</code></p>
  </li>
  <li>
    <p><strong>partition_spec</strong></p>

    <p>Specifies the partition on which the property has to be set. Note that one can use a typed literal (e.g., date&#8217;2019-01-02&#8217;) in the partition spec.</p>

    <p><strong>Syntax:</strong> <code class="language-plaintext highlighter-rouge">PARTITION ( partition_col_name  = partition_col_val [ , ... ] )</code></p>
  </li>
  <li>
    <p><strong>SERDEPROPERTIES ( key1 = val1, key2 = val2, &#8230; )</strong></p>

    <p>Specifies the SERDE properties to be set.</p>
  </li>
</ul>

<h3 id="examples">Examples</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- RENAME table </span>
<span class="k">DESC</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">Student</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">StudentInfo</span><span class="p">;</span>

<span class="c1">-- After Renaming the table</span>
<span class="k">DESC</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>

<span class="c1">-- RENAME partition</span>

<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">10</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">default</span><span class="p">.</span><span class="n">StudentInfo</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="s1">'10'</span><span class="p">)</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="s1">'15'</span><span class="p">);</span>

<span class="c1">-- After renaming Partition</span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="c1">-- Add new columns to a table</span>
<span class="k">DESC</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">StudentInfo</span> <span class="k">ADD</span> <span class="n">columns</span> <span class="p">(</span><span class="n">LastName</span> <span class="n">string</span><span class="p">,</span> <span class="n">DOB</span> <span class="nb">timestamp</span><span class="p">);</span>

<span class="c1">-- After Adding New columns to the table</span>
<span class="k">DESC</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>               <span class="n">LastName</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">DOB</span><span class="o">|</span><span class="nb">timestamp</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>

<span class="c1">-- Add a new partition to a table </span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">StudentInfo</span> <span class="k">ADD</span> <span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>

<span class="c1">-- After adding a new partition to the table</span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="c1">-- Drop a partition from the table </span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">StudentInfo</span> <span class="k">DROP</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>

<span class="c1">-- After dropping the partition of the table</span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="c1">-- Adding multiple partitions to the table</span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">StudentInfo</span> <span class="k">ADD</span> <span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span>

<span class="c1">-- After adding multiple partitions to the table</span>
<span class="k">SHOW</span> <span class="n">PARTITIONS</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span><span class="n">partition</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">11</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">15</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="o">|</span>
<span class="o">|</span>   <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="c1">-- ALTER OR CHANGE COLUMNS</span>
<span class="k">DESC</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>               <span class="n">LastName</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">DOB</span><span class="o">|</span><span class="nb">timestamp</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span><span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>   <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">StudentInfo</span> <span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">name</span> <span class="k">COMMENT</span> <span class="nv">"new comment"</span><span class="p">;</span>

<span class="c1">--After ALTER or CHANGE COLUMNS</span>
<span class="k">DESC</span> <span class="n">StudentInfo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-----------+</span>
<span class="o">|</span>               <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span>    <span class="k">comment</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-----------+</span>
<span class="o">|</span>                   <span class="n">name</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span><span class="k">new</span> <span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                 <span class="n">rollno</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>       <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>               <span class="n">LastName</span><span class="o">|</span>   <span class="n">string</span><span class="o">|</span>       <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">DOB</span><span class="o">|</span><span class="nb">timestamp</span><span class="o">|</span>       <span class="k">NULL</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>       <span class="k">NULL</span><span class="o">|</span>
<span class="o">|#</span> <span class="n">Partition</span> <span class="n">Information</span><span class="o">|</span>         <span class="o">|</span>           <span class="o">|</span>
<span class="o">|</span>             <span class="o">#</span> <span class="n">col_name</span><span class="o">|</span><span class="n">data_type</span><span class="o">|</span>    <span class="k">comment</span><span class="o">|</span>
<span class="o">|</span>                    <span class="n">age</span><span class="o">|</span>      <span class="nb">int</span><span class="o">|</span>       <span class="k">NULL</span><span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+---------+-----------+</span>

<span class="c1">-- Change the fileformat</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">loc_orc</span> <span class="k">SET</span> <span class="n">fileformat</span> <span class="n">orc</span><span class="p">;</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">p1</span> <span class="n">partition</span> <span class="p">(</span><span class="k">month</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="k">day</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="k">SET</span> <span class="n">fileformat</span> <span class="n">parquet</span><span class="p">;</span>

<span class="c1">-- Change the file Location</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">'1'</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">'2'</span><span class="p">)</span> <span class="k">SET</span> <span class="k">LOCATION</span> <span class="s1">'/path/to/part/ways'</span>

<span class="c1">-- SET SERDE/ SERDE Properties</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">test_tab</span> <span class="k">SET</span> <span class="n">SERDE</span> <span class="s1">'org.apache.hadoop.hive.serde2.columnar.LazyBinaryColumnarSerDe'</span><span class="p">;</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="k">SET</span> <span class="n">SERDE</span> <span class="s1">'org.apache.hadoop'</span> <span class="k">WITH</span> <span class="n">SERDEPROPERTIES</span> <span class="p">(</span><span class="s1">'k'</span> <span class="o">=</span> <span class="s1">'v'</span><span class="p">,</span> <span class="s1">'kay'</span> <span class="o">=</span> <span class="s1">'vee'</span><span class="p">)</span>

<span class="c1">-- SET TABLE PROPERTIES</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="k">SET</span> <span class="n">TBLPROPERTIES</span> <span class="p">(</span><span class="s1">'winner'</span> <span class="o">=</span> <span class="s1">'loser'</span><span class="p">);</span>

<span class="c1">-- SET TABLE COMMENT Using SET PROPERTIES</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="k">SET</span> <span class="n">TBLPROPERTIES</span> <span class="p">(</span><span class="s1">'comment'</span> <span class="o">=</span> <span class="s1">'A table comment.'</span><span class="p">);</span>

<span class="c1">-- Alter TABLE COMMENT Using SET PROPERTIES</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="k">SET</span> <span class="n">TBLPROPERTIES</span> <span class="p">(</span><span class="s1">'comment'</span> <span class="o">=</span> <span class="s1">'This is a new comment.'</span><span class="p">);</span>

<span class="c1">-- DROP TABLE PROPERTIES</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbx</span><span class="p">.</span><span class="n">tab1</span> <span class="n">UNSET</span> <span class="n">TBLPROPERTIES</span> <span class="p">(</span><span class="s1">'winner'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="related-statements">Related Statements</h3>

<ul>
  <li><a href="sql-ref-syntax-ddl-create-table.html">CREATE TABLE</a></li>
  <li><a href="sql-ref-syntax-ddl-drop-table.html">DROP TABLE</a></li>
</ul>


                </div>
            
             <!-- /container -->
        </div>

        <script src="js/vendor/jquery-3.5.1.min.js"></script>
        <script src="js/vendor/bootstrap.bundle.min.js"></script>
        <script src="js/vendor/anchor.min.js"></script>
        <script src="js/main.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
        <script type="text/javascript">
            // DocSearch is entirely free and automated. DocSearch is built in two parts:
            // 1. a crawler which we run on our own infrastructure every 24 hours. It follows every link
            //    in your website and extract content from every page it traverses. It then pushes this
            //    content to an Algolia index.
            // 2. a JavaScript snippet to be inserted in your website that will bind this Algolia index
            //    to your search input and display its results in a dropdown UI. If you want to find more
            //    details on how works DocSearch, check the docs of DocSearch.
            docsearch({
    apiKey: 'd62f962a82bc9abb53471cb7b89da35e',
    appId: 'RAI69RXRSK',
    indexName: 'apache_spark',
    inputSelector: '#docsearch-input',
    enhancedSearchInput: true,
    algoliaOptions: {
      'facetFilters': ["version:3.2.2"]
    },
    debug: false // Set debug to true if you want to inspect the dropdown
});

        </script>

        <!-- MathJax Section -->
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                TeX: { equationNumbers: { autoNumber: "AMS" } }
            });
        </script>
        <script>
            // Note that we load MathJax this way to work with local file (file://), HTTP and HTTPS.
            // We could use "//cdn.mathjax...", but that won't support "file://".
            (function(d, script) {
                script = d.createElement('script');
                script.type = 'text/javascript';
                script.async = true;
                script.onload = function(){
                    MathJax.Hub.Config({
                        tex2jax: {
                            inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ],
                            displayMath: [ ["$$","$$"], ["\\[", "\\]"] ],
                            processEscapes: true,
                            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
                        }
                    });
                };
                script.src = ('https:' == document.location.protocol ? 'https://' : 'http://') +
                    'cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js' +
                    '?config=TeX-AMS-MML_HTMLorMML';
                d.getElementsByTagName('head')[0].appendChild(script);
            }(document));
        </script>
    </body>
</html>
