<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Wed Mar 27 05:00:33 UTC 2019 -->
<title>SquaredEuclideanSilhouette (Spark 2.4.1 JavaDoc)</title>
<meta name="date" content="2019-03-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SquaredEuclideanSilhouette (Spark 2.4.1 JavaDoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/ml/evaluation/RegressionEvaluator.html" title="class in org.apache.spark.ml.evaluation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html" target="_top">Frames</a></li>
<li><a href="SquaredEuclideanSilhouette.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.ml.evaluation</div>
<h2 title="Class SquaredEuclideanSilhouette" class="title">Class SquaredEuclideanSilhouette</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>org.apache.spark.ml.evaluation.SquaredEuclideanSilhouette</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SquaredEuclideanSilhouette</span>
extends Object</pre>
<div class="block">SquaredEuclideanSilhouette computes the average of the
 Silhouette over all the data of the dataset, which is
 a measure of how appropriately the data have been clustered.
 <p>
 The Silhouette for each point <code>i</code> is defined as:
 <p>
 <blockquote>
   $$
   s_{i} = \frac{b_{i}-a_{i}}{max\{a_{i},b_{i}\}}
   $$
 </blockquote>
 <p>
 which can be rewritten as
 <p>
 <blockquote>
   $$
   s_{i}= \begin{cases}
   1-\frac{a_{i}}{b_{i}} &amp; \text{if } a_{i} \leq b_{i} \\
   \frac{b_{i}}{a_{i}}-1 &amp; \text{if } a_{i} \gt b_{i} \end{cases}
   $$
 </blockquote>
 <p>
 where <code>$a_{i}$</code> is the average dissimilarity of <code>i</code> with all other data
 within the same cluster, <code>$b_{i}$</code> is the lowest average dissimilarity
 of <code>i</code> to any other cluster, of which <code>i</code> is not a member.
 <code>$a_{i}$</code> can be interpreted as how well <code>i</code> is assigned to its cluster
 (the smaller the value, the better the assignment), while <code>$b_{i}$</code> is
 a measure of how well <code>i</code> has not been assigned to its "neighboring cluster",
 ie. the nearest cluster to <code>i</code>.
 <p>
 Unfortunately, the naive implementation of the algorithm requires to compute
 the distance of each couple of points in the dataset. Since the computation of
 the distance measure takes <code>D</code> operations - if <code>D</code> is the number of dimensions
 of each point, the computational complexity of the algorithm is <code>O(N^2^*D)</code>, where
 <code>N</code> is the cardinality of the dataset. Of course this is not scalable in <code>N</code>,
 which is the critical number in a Big Data context.
 <p>
 The algorithm which is implemented in this object, instead, is an efficient
 and parallel implementation of the Silhouette using the squared Euclidean
 distance measure.
 <p>
 With this assumption, the total distance of the point <code>X</code>
 to the points <code>$C_{i}$</code> belonging to the cluster <code>$\Gamma$</code> is:
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N d(X, C_{i} ) =
   \sum\limits_{i=1}^N \Big( \sum\limits_{j=1}^D (x_{j}-c_{ij})^2 \Big)
   = \sum\limits_{i=1}^N \Big( \sum\limits_{j=1}^D x_{j}^2 +
   \sum\limits_{j=1}^D c_{ij}^2 -2\sum\limits_{j=1}^D x_{j}c_{ij} \Big)
   = \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}^2 +
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D c_{ij}^2
   -2 \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}c_{ij}
   $$
 </blockquote>
 <p>
 where <code>$x_{j}$</code> is the <code>j</code>-th dimension of the point <code>X</code> and
 <code>$c_{ij}$</code> is the <code>j</code>-th dimension of the <code>i</code>-th point in cluster <code>$\Gamma$</code>.
 <p>
 Then, the first term of the equation can be rewritten as:
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}^2 = N \xi_{X} \text{ ,
   with } \xi_{X} = \sum\limits_{j=1}^D x_{j}^2
   $$
 </blockquote>
 <p>
 where <code>$\xi_{X}$</code> is fixed for each point and it can be precomputed.
 <p>
 Moreover, the second term is fixed for each cluster too,
 thus we can name it <code>$\Psi_{\Gamma}$</code>
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D c_{ij}^2 =
   \sum\limits_{i=1}^N \xi_{C_{i}} = \Psi_{\Gamma}
   $$
 </blockquote>
 <p>
 Last, the third element becomes
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}c_{ij} =
   \sum\limits_{j=1}^D \Big(\sum\limits_{i=1}^N c_{ij} \Big) x_{j}
   $$
 </blockquote>
 <p>
 thus defining the vector
 <p>
 <blockquote>
   $$
   Y_{\Gamma}:Y_{\Gamma j} = \sum\limits_{i=1}^N c_{ij} , j=0, ..., D
   $$
 </blockquote>
 <p>
 which is fixed for each cluster <code>$\Gamma$</code>, we have
 <p>
 <blockquote>
   $$
   \sum\limits_{j=1}^D \Big(\sum\limits_{i=1}^N c_{ij} \Big) x_{j} =
   \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}
   $$
 </blockquote>
 <p>
 In this way, the previous equation becomes
 <p>
 <blockquote>
   $$
   N\xi_{X} + \Psi_{\Gamma} - 2 \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}
   $$
 </blockquote>
 <p>
 and the average distance of a point to a cluster can be computed as
 <p>
 <blockquote>
   $$
   \frac{\sum\limits_{i=1}^N d(X, C_{i} )}{N} =
   \frac{N\xi_{X} + \Psi_{\Gamma} - 2 \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}}{N} =
   \xi_{X} + \frac{\Psi_{\Gamma} }{N} - 2 \frac{\sum\limits_{j=1}^D Y_{\Gamma j} x_{j}}{N}
   $$
 </blockquote>
 <p>
 Thus, it is enough to precompute: the constant <code>$\xi_{X}$</code> for each point <code>X</code>; the
 constants <code>$\Psi_{\Gamma}$</code>, <code>N</code> and the vector <code>$Y_{\Gamma}$</code> for
 each cluster <code>$\Gamma$</code>.
 <p>
 In the implementation, the precomputed values for the clusters
 are distributed among the worker nodes via broadcasted variables,
 because we can assume that the clusters are limited in number and
 anyway they are much fewer than the points.
 <p>
 The main strengths of this algorithm are the low computational complexity
 and the intrinsic parallelism. The precomputed information for each point
 and for each cluster can be computed with a computational complexity
 which is <code>O(N/W)</code>, where <code>N</code> is the number of points in the dataset and
 <code>W</code> is the number of worker nodes. After that, every point can be
 analyzed independently of the others.
 <p>
 For every point we need to compute the average distance to all the clusters.
 Since the formula above requires <code>O(D)</code> operations, this phase has a
 computational complexity which is <code>O(C*D*N/W)</code> where <code>C</code> is the number of
 clusters (which we assume quite low), <code>D</code> is the number of dimensions,
 <code>N</code> is the number of points in the dataset and <code>W</code> is the number
 of worker nodes.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats$.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats$</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#SquaredEuclideanSilhouette--">SquaredEuclideanSilhouette</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static scala.collection.immutable.Map&lt;Object,<a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#computeClusterStats-org.apache.spark.sql.Dataset-java.lang.String-java.lang.String-">computeClusterStats</a></span>(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../../../../org/apache/spark/sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
                   String&nbsp;predictionCol,
                   String&nbsp;featuresCol)</code>
<div class="block">The method takes the input dataset and computes the aggregated values
 about a cluster which are needed by the algorithm.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#computeSilhouetteCoefficient-org.apache.spark.broadcast.Broadcast-org.apache.spark.ml.linalg.Vector-double-double-">computeSilhouetteCoefficient</a></span>(<a href="../../../../../org/apache/spark/broadcast/Broadcast.html" title="class in org.apache.spark.broadcast">Broadcast</a>&lt;scala.collection.immutable.Map&lt;Object,<a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;&gt;&nbsp;broadcastedClustersMap,
                            <a href="../../../../../org/apache/spark/ml/linalg/Vector.html" title="interface in org.apache.spark.ml.linalg">Vector</a>&nbsp;point,
                            double&nbsp;clusterId,
                            double&nbsp;squaredNorm)</code>
<div class="block">It computes the Silhouette coefficient for a point.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#computeSilhouetteScore-org.apache.spark.sql.Dataset-java.lang.String-java.lang.String-">computeSilhouetteScore</a></span>(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;?&gt;&nbsp;dataset,
                      String&nbsp;predictionCol,
                      String&nbsp;featuresCol)</code>
<div class="block">Compute the Silhouette score of the dataset using squared Euclidean distance measure.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#overallScore-org.apache.spark.sql.Dataset-org.apache.spark.sql.Column-">overallScore</a></span>(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../../../../org/apache/spark/sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
            <a href="../../../../../org/apache/spark/sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;scoreColumn)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#pointSilhouetteCoefficient-scala.collection.immutable.Set-double-long-scala.Function1-">pointSilhouetteCoefficient</a></span>(scala.collection.immutable.Set&lt;Object&gt;&nbsp;clusterIds,
                          double&nbsp;pointClusterId,
                          long&nbsp;pointClusterNumOfPoints,
                          scala.Function1&lt;Object,Object&gt;&nbsp;averageDistanceToCluster)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html#registerKryoClasses-org.apache.spark.SparkContext-">registerKryoClasses</a></span>(<a href="../../../../../org/apache/spark/SparkContext.html" title="class in org.apache.spark">SparkContext</a>&nbsp;sc)</code>
<div class="block">This method registers the class
 <a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a>
 for kryo serialization.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SquaredEuclideanSilhouette--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SquaredEuclideanSilhouette</h4>
<pre>public&nbsp;SquaredEuclideanSilhouette()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerKryoClasses-org.apache.spark.SparkContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerKryoClasses</h4>
<pre>public static&nbsp;void&nbsp;registerKryoClasses(<a href="../../../../../org/apache/spark/SparkContext.html" title="class in org.apache.spark">SparkContext</a>&nbsp;sc)</pre>
<div class="block">This method registers the class
 <a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a>
 for kryo serialization.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sc</code> - <code>SparkContext</code> to be used</dd>
</dl>
</li>
</ul>
<a name="computeClusterStats-org.apache.spark.sql.Dataset-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeClusterStats</h4>
<pre>public static&nbsp;scala.collection.immutable.Map&lt;Object,<a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;&nbsp;computeClusterStats(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../../../../org/apache/spark/sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
                                                                                                                 String&nbsp;predictionCol,
                                                                                                                 String&nbsp;featuresCol)</pre>
<div class="block">The method takes the input dataset and computes the aggregated values
 about a cluster which are needed by the algorithm.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>df</code> - The DataFrame which contains the input data</dd>
<dd><code>predictionCol</code> - The name of the column which contains the predicted cluster id
                      for the point.</dd>
<dd><code>featuresCol</code> - The name of the column which contains the feature vector of the point.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>Map</code> which associates each cluster id
         to a <a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a> object (which contains the precomputed values <code>N</code>,
         <code>$\Psi_{\Gamma}$</code> and <code>$Y_{\Gamma}$</code> for a cluster).</dd>
</dl>
</li>
</ul>
<a name="computeSilhouetteCoefficient-org.apache.spark.broadcast.Broadcast-org.apache.spark.ml.linalg.Vector-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeSilhouetteCoefficient</h4>
<pre>public static&nbsp;double&nbsp;computeSilhouetteCoefficient(<a href="../../../../../org/apache/spark/broadcast/Broadcast.html" title="class in org.apache.spark.broadcast">Broadcast</a>&lt;scala.collection.immutable.Map&lt;Object,<a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;&gt;&nbsp;broadcastedClustersMap,
                                                  <a href="../../../../../org/apache/spark/ml/linalg/Vector.html" title="interface in org.apache.spark.ml.linalg">Vector</a>&nbsp;point,
                                                  double&nbsp;clusterId,
                                                  double&nbsp;squaredNorm)</pre>
<div class="block">It computes the Silhouette coefficient for a point.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>broadcastedClustersMap</code> - A map of the precomputed values for each cluster.</dd>
<dd><code>point</code> - The <a href="../../../../../org/apache/spark/ml/linalg/Vector.html" title="interface in org.apache.spark.ml.linalg"><code>Vector</code></a> representing the current point.</dd>
<dd><code>clusterId</code> - The id of the cluster the current point belongs to.</dd>
<dd><code>squaredNorm</code> - The <code>$\Xi_{X}$</code> (which is the squared norm) precomputed for the point.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Silhouette for the point.</dd>
</dl>
</li>
</ul>
<a name="computeSilhouetteScore-org.apache.spark.sql.Dataset-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeSilhouetteScore</h4>
<pre>public static&nbsp;double&nbsp;computeSilhouetteScore(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;?&gt;&nbsp;dataset,
                                            String&nbsp;predictionCol,
                                            String&nbsp;featuresCol)</pre>
<div class="block">Compute the Silhouette score of the dataset using squared Euclidean distance measure.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataset</code> - The input dataset (previously clustered) on which compute the Silhouette.</dd>
<dd><code>predictionCol</code> - The name of the column which contains the predicted cluster id
                      for the point.</dd>
<dd><code>featuresCol</code> - The name of the column which contains the feature vector of the point.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The average of the Silhouette values of the clustered data.</dd>
</dl>
</li>
</ul>
<a name="pointSilhouetteCoefficient-scala.collection.immutable.Set-double-long-scala.Function1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pointSilhouetteCoefficient</h4>
<pre>public static&nbsp;double&nbsp;pointSilhouetteCoefficient(scala.collection.immutable.Set&lt;Object&gt;&nbsp;clusterIds,
                                                double&nbsp;pointClusterId,
                                                long&nbsp;pointClusterNumOfPoints,
                                                scala.Function1&lt;Object,Object&gt;&nbsp;averageDistanceToCluster)</pre>
</li>
</ul>
<a name="overallScore-org.apache.spark.sql.Dataset-org.apache.spark.sql.Column-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>overallScore</h4>
<pre>public static&nbsp;double&nbsp;overallScore(<a href="../../../../../org/apache/spark/sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../../../../org/apache/spark/sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
                                  <a href="../../../../../org/apache/spark/sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;scoreColumn)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/ml/evaluation/RegressionEvaluator.html" title="class in org.apache.spark.ml.evaluation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/ml/evaluation/SquaredEuclideanSilhouette.html" target="_top">Frames</a></li>
<li><a href="SquaredEuclideanSilhouette.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<script defer="defer" type="text/javascript" src="../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/api-javadocs.js"></script></body>
</html>
