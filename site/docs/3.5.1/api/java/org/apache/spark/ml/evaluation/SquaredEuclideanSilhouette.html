<!DOCTYPE HTML>
<html lang="ko">
<head>
<!-- Generated by javadoc (17) on Sat Feb 24 16:16:59 KST 2024 -->
<title>SquaredEuclideanSilhouette (Spark 3.5.1 JavaDoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-02-24">
<meta name="description" content="declaration: package: org.apache.spark.ml.evaluation, class: SquaredEuclideanSilhouette">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.spark.ml.evaluation</a></div>
<h1 title="Class SquaredEuclideanSilhouette" class="title">Class SquaredEuclideanSilhouette</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">org.apache.spark.ml.evaluation.SquaredEuclideanSilhouette</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SquaredEuclideanSilhouette</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">SquaredEuclideanSilhouette computes the average of the
 Silhouette over all the data of the dataset, which is
 a measure of how appropriately the data have been clustered.
 <p>
 The Silhouette for each point <code>i</code> is defined as:
 <p>
 <blockquote>
   $$
   s_{i} = \frac{b_{i}-a_{i}}{max\{a_{i},b_{i}\}}
   $$
 </blockquote>
 <p>
 which can be rewritten as
 <p>
 <blockquote>
   $$
   s_{i}= \begin{cases}
   1-\frac{a_{i}}{b_{i}} &amp; \text{if } a_{i} \leq b_{i} \\
   \frac{b_{i}}{a_{i}}-1 &amp; \text{if } a_{i} \gt b_{i} \end{cases}
   $$
 </blockquote>
 <p>
 where <code>$a_{i}$</code> is the average dissimilarity of <code>i</code> with all other data
 within the same cluster, <code>$b_{i}$</code> is the lowest average dissimilarity
 of <code>i</code> to any other cluster, of which <code>i</code> is not a member.
 <code>$a_{i}$</code> can be interpreted as how well <code>i</code> is assigned to its cluster
 (the smaller the value, the better the assignment), while <code>$b_{i}$</code> is
 a measure of how well <code>i</code> has not been assigned to its "neighboring cluster",
 i.e. the nearest cluster to <code>i</code>.
 <p>
 Unfortunately, the naive implementation of the algorithm requires to compute
 the distance of each couple of points in the dataset. Since the computation of
 the distance measure takes <code>D</code> operations - if <code>D</code> is the number of dimensions
 of each point, the computational complexity of the algorithm is <code>O(N^2^*D)</code>, where
 <code>N</code> is the cardinality of the dataset. Of course this is not scalable in <code>N</code>,
 which is the critical number in a Big Data context.
 <p>
 The algorithm which is implemented in this object, instead, is an efficient
 and parallel implementation of the Silhouette using the squared Euclidean
 distance measure.
 <p>
 With this assumption, the total distance of the point <code>X</code>
 to the points <code>$C_{i}$</code> belonging to the cluster <code>$\Gamma$</code> is:
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N d(X, C_{i} ) =
   \sum\limits_{i=1}^N \Big( \sum\limits_{j=1}^D (x_{j}-c_{ij})^2 \Big)
   = \sum\limits_{i=1}^N \Big( \sum\limits_{j=1}^D x_{j}^2 +
   \sum\limits_{j=1}^D c_{ij}^2 -2\sum\limits_{j=1}^D x_{j}c_{ij} \Big)
   = \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}^2 +
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D c_{ij}^2
   -2 \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}c_{ij}
   $$
 </blockquote>
 <p>
 where <code>$x_{j}$</code> is the <code>j</code>-th dimension of the point <code>X</code> and
 <code>$c_{ij}$</code> is the <code>j</code>-th dimension of the <code>i</code>-th point in cluster <code>$\Gamma$</code>.
 <p>
 Then, the first term of the equation can be rewritten as:
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}^2 = N \xi_{X} \text{ ,
   with } \xi_{X} = \sum\limits_{j=1}^D x_{j}^2
   $$
 </blockquote>
 <p>
 where <code>$\xi_{X}$</code> is fixed for each point and it can be precomputed.
 <p>
 Moreover, the second term is fixed for each cluster too,
 thus we can name it <code>$\Psi_{\Gamma}$</code>
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D c_{ij}^2 =
   \sum\limits_{i=1}^N \xi_{C_{i}} = \Psi_{\Gamma}
   $$
 </blockquote>
 <p>
 Last, the third element becomes
 <p>
 <blockquote>
   $$
   \sum\limits_{i=1}^N \sum\limits_{j=1}^D x_{j}c_{ij} =
   \sum\limits_{j=1}^D \Big(\sum\limits_{i=1}^N c_{ij} \Big) x_{j}
   $$
 </blockquote>
 <p>
 thus defining the vector
 <p>
 <blockquote>
   $$
   Y_{\Gamma}:Y_{\Gamma j} = \sum\limits_{i=1}^N c_{ij} , j=0, ..., D
   $$
 </blockquote>
 <p>
 which is fixed for each cluster <code>$\Gamma$</code>, we have
 <p>
 <blockquote>
   $$
   \sum\limits_{j=1}^D \Big(\sum\limits_{i=1}^N c_{ij} \Big) x_{j} =
   \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}
   $$
 </blockquote>
 <p>
 In this way, the previous equation becomes
 <p>
 <blockquote>
   $$
   N\xi_{X} + \Psi_{\Gamma} - 2 \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}
   $$
 </blockquote>
 <p>
 and the average distance of a point to a cluster can be computed as
 <p>
 <blockquote>
   $$
   \frac{\sum\limits_{i=1}^N d(X, C_{i} )}{N} =
   \frac{N\xi_{X} + \Psi_{\Gamma} - 2 \sum\limits_{j=1}^D Y_{\Gamma j} x_{j}}{N} =
   \xi_{X} + \frac{\Psi_{\Gamma} }{N} - 2 \frac{\sum\limits_{j=1}^D Y_{\Gamma j} x_{j}}{N}
   $$
 </blockquote>
 <p>
 Thus, it is enough to precompute: the constant <code>$\xi_{X}$</code> for each point <code>X</code>; the
 constants <code>$\Psi_{\Gamma}$</code>, <code>N</code> and the vector <code>$Y_{\Gamma}$</code> for
 each cluster <code>$\Gamma$</code>.
 <p>
 In the implementation, the precomputed values for the clusters
 are distributed among the worker nodes via broadcasted variables,
 because we can assume that the clusters are limited in number and
 anyway they are much fewer than the points.
 <p>
 The main strengths of this algorithm are the low computational complexity
 and the intrinsic parallelism. The precomputed information for each point
 and for each cluster can be computed with a computational complexity
 which is <code>O(N/W)</code>, where <code>N</code> is the number of points in the dataset and
 <code>W</code> is the number of worker nodes. After that, every point can be
 analyzed independently of the others.
 <p>
 For every point we need to compute the average distance to all the clusters.
 Since the formula above requires <code>O(D)</code> operations, this phase has a
 computational complexity which is <code>O(C*D*N/W)</code> where <code>C</code> is the number of
 clusters (which we assume quite low), <code>D</code> is the number of dimensions,
 <code>N</code> is the number of points in the dataset and <code>W</code> is the number
 of worker nodes.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="SquaredEuclideanSilhouette.ClusterStats.html" class="type-name-link" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="SquaredEuclideanSilhouette.ClusterStats$.html" class="type-name-link" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats$</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">SquaredEuclideanSilhouette</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static scala.collection.immutable.Map&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#computeClusterStats(org.apache.spark.sql.Dataset,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">computeClusterStats</a><wbr>(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;predictionCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;featuresCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;weightCol)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The method takes the input dataset and computes the aggregated values
 about a cluster which are needed by the algorithm.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#computeSilhouetteCoefficient(org.apache.spark.broadcast.Broadcast,org.apache.spark.ml.linalg.Vector,double,double,double)" class="member-name-link">computeSilhouetteCoefficient</a><wbr>(<a href="../../broadcast/Broadcast.html" title="class in org.apache.spark.broadcast">Broadcast</a>&lt;scala.collection.immutable.Map&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;&gt;&nbsp;broadcastedClustersMap,
 <a href="../linalg/Vector.html" title="interface in org.apache.spark.ml.linalg">Vector</a>&nbsp;point,
 double&nbsp;clusterId,
 double&nbsp;weight,
 double&nbsp;squaredNorm)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">It computes the Silhouette coefficient for a point.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#computeSilhouetteScore(org.apache.spark.sql.Dataset,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">computeSilhouetteScore</a><wbr>(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;?&gt;&nbsp;dataset,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;predictionCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;featuresCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;weightCol)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compute the Silhouette score of the dataset using squared Euclidean distance measure.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#overallScore(org.apache.spark.sql.Dataset,org.apache.spark.sql.Column,org.apache.spark.sql.Column)" class="member-name-link">overallScore</a><wbr>(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
 <a href="../../sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;scoreColumn,
 <a href="../../sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;weightColumn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#pointSilhouetteCoefficient(scala.collection.immutable.Set,double,double,double,scala.Function1)" class="member-name-link">pointSilhouetteCoefficient</a><wbr>(scala.collection.immutable.Set&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;clusterIds,
 double&nbsp;pointClusterId,
 double&nbsp;weightSum,
 double&nbsp;weight,
 scala.Function1&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;averageDistanceToCluster)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#registerKryoClasses(org.apache.spark.SparkContext)" class="member-name-link">registerKryoClasses</a><wbr>(<a href="../../SparkContext.html" title="class in org.apache.spark">SparkContext</a>&nbsp;sc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This method registers the class
 <a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a>
 for kryo serialization.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SquaredEuclideanSilhouette</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SquaredEuclideanSilhouette</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="registerKryoClasses(org.apache.spark.SparkContext)">
<h3>registerKryoClasses</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerKryoClasses</span><wbr><span class="parameters">(<a href="../../SparkContext.html" title="class in org.apache.spark">SparkContext</a>&nbsp;sc)</span></div>
<div class="block">This method registers the class
 <a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a>
 for kryo serialization.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sc</code> - <code>SparkContext</code> to be used</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeClusterStats(org.apache.spark.sql.Dataset,java.lang.String,java.lang.String,java.lang.String)">
<h3>computeClusterStats</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">scala.collection.immutable.Map&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;</span>&nbsp;<span class="element-name">computeClusterStats</span><wbr><span class="parameters">(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;predictionCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;featuresCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;weightCol)</span></div>
<div class="block">The method takes the input dataset and computes the aggregated values
 about a cluster which are needed by the algorithm.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>df</code> - The DataFrame which contains the input data</dd>
<dd><code>predictionCol</code> - The name of the column which contains the predicted cluster id
                      for the point.</dd>
<dd><code>featuresCol</code> - The name of the column which contains the feature vector of the point.</dd>
<dd><code>weightCol</code> - The name of the column which contains the instance weight.</dd>
<dt>Returns:</dt>
<dd>A <code>Map</code> which associates each cluster id
         to a <a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation"><code>SquaredEuclideanSilhouette.ClusterStats</code></a> object (which contains the precomputed values <code>N</code>,
         <code>$\Psi_{\Gamma}$</code> and <code>$Y_{\Gamma}$</code> for a cluster).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeSilhouetteCoefficient(org.apache.spark.broadcast.Broadcast,org.apache.spark.ml.linalg.Vector,double,double,double)">
<h3>computeSilhouetteCoefficient</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">computeSilhouetteCoefficient</span><wbr><span class="parameters">(<a href="../../broadcast/Broadcast.html" title="class in org.apache.spark.broadcast">Broadcast</a>&lt;scala.collection.immutable.Map&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="SquaredEuclideanSilhouette.ClusterStats.html" title="class in org.apache.spark.ml.evaluation">SquaredEuclideanSilhouette.ClusterStats</a>&gt;&gt;&nbsp;broadcastedClustersMap,
 <a href="../linalg/Vector.html" title="interface in org.apache.spark.ml.linalg">Vector</a>&nbsp;point,
 double&nbsp;clusterId,
 double&nbsp;weight,
 double&nbsp;squaredNorm)</span></div>
<div class="block">It computes the Silhouette coefficient for a point.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>broadcastedClustersMap</code> - A map of the precomputed values for each cluster.</dd>
<dd><code>point</code> - The <a href="../linalg/Vector.html" title="interface in org.apache.spark.ml.linalg"><code>Vector</code></a> representing the current point.</dd>
<dd><code>clusterId</code> - The id of the cluster the current point belongs to.</dd>
<dd><code>weight</code> - The instance weight of the current point.</dd>
<dd><code>squaredNorm</code> - The <code>$\Xi_{X}$</code> (which is the squared norm) precomputed for the point.</dd>
<dt>Returns:</dt>
<dd>The Silhouette for the point.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeSilhouetteScore(org.apache.spark.sql.Dataset,java.lang.String,java.lang.String,java.lang.String)">
<h3>computeSilhouetteScore</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">computeSilhouetteScore</span><wbr><span class="parameters">(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;?&gt;&nbsp;dataset,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;predictionCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;featuresCol,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;weightCol)</span></div>
<div class="block">Compute the Silhouette score of the dataset using squared Euclidean distance measure.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataset</code> - The input dataset (previously clustered) on which compute the Silhouette.</dd>
<dd><code>predictionCol</code> - The name of the column which contains the predicted cluster id
                      for the point.</dd>
<dd><code>featuresCol</code> - The name of the column which contains the feature vector of the point.</dd>
<dd><code>weightCol</code> - The name of the column which contains instance weight.</dd>
<dt>Returns:</dt>
<dd>The average of the Silhouette values of the clustered data.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pointSilhouetteCoefficient(scala.collection.immutable.Set,double,double,double,scala.Function1)">
<h3>pointSilhouetteCoefficient</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">pointSilhouetteCoefficient</span><wbr><span class="parameters">(scala.collection.immutable.Set&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;clusterIds,
 double&nbsp;pointClusterId,
 double&nbsp;weightSum,
 double&nbsp;weight,
 scala.Function1&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;averageDistanceToCluster)</span></div>
</section>
</li>
<li>
<section class="detail" id="overallScore(org.apache.spark.sql.Dataset,org.apache.spark.sql.Column,org.apache.spark.sql.Column)">
<h3>overallScore</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">overallScore</span><wbr><span class="parameters">(<a href="../../sql/Dataset.html" title="class in org.apache.spark.sql">Dataset</a>&lt;<a href="../../sql/Row.html" title="interface in org.apache.spark.sql">Row</a>&gt;&nbsp;df,
 <a href="../../sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;scoreColumn,
 <a href="../../sql/Column.html" title="class in org.apache.spark.sql">Column</a>&nbsp;weightColumn)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
<script defer="defer" type="text/javascript" src="../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/api-javadocs.js"></script></body>
</html>
