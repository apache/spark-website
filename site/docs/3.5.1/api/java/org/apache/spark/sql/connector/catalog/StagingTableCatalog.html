<!DOCTYPE HTML>
<html lang="ko">
<head>
<!-- Generated by javadoc (17) on Sat Feb 24 16:16:59 KST 2024 -->
<title>StagingTableCatalog (Spark 3.5.1 JavaDoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-02-24">
<meta name="description" content="declaration: package: org.apache.spark.sql.connector.catalog, interface: StagingTableCatalog">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.spark.sql.connector.catalog</a></div>
<h1 title="Interface StagingTableCatalog" class="title">Interface StagingTableCatalog</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="CatalogPlugin.html" title="interface in org.apache.spark.sql.connector.catalog">CatalogPlugin</a></code>, <code><a href="TableCatalog.html" title="interface in org.apache.spark.sql.connector.catalog">TableCatalog</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Evolving
</span><span class="modifiers">public interface </span><span class="element-name type-name-label">StagingTableCatalog</span><span class="extends-implements">
extends <a href="TableCatalog.html" title="interface in org.apache.spark.sql.connector.catalog">TableCatalog</a></span></div>
<div class="block">An optional mix-in for implementations of <a href="TableCatalog.html" title="interface in org.apache.spark.sql.connector.catalog"><code>TableCatalog</code></a> that support staging creation of
 the a table before committing the table's metadata along with its contents in CREATE TABLE AS
 SELECT or REPLACE TABLE AS SELECT operations.
 <p>
 It is highly recommended to implement this trait whenever possible so that CREATE TABLE AS
 SELECT and REPLACE TABLE AS SELECT operations are atomic. For example, when one runs a REPLACE
 TABLE AS SELECT operation, if the catalog does not implement this trait, the planner will first
 drop the table via <a href="TableCatalog.html#dropTable(org.apache.spark.sql.connector.catalog.Identifier)"><code>TableCatalog.dropTable(Identifier)</code></a>, then create the table via
 <a href="TableCatalog.html#createTable(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>TableCatalog.createTable(Identifier, StructType, Transform[], Map)</code></a>, and then perform
 the write via <a href="SupportsWrite.html#newWriteBuilder(org.apache.spark.sql.connector.write.LogicalWriteInfo)"><code>SupportsWrite.newWriteBuilder(LogicalWriteInfo)</code></a>.
 However, if the write operation fails, the catalog will have already dropped the table, and the
 planner cannot roll back the dropping of the table.
 <p>
 If the catalog implements this plugin, the catalog can implement the methods to "stage" the
 creation and the replacement of a table. After the table's
 <a href="../write/BatchWrite.html#commit(org.apache.spark.sql.connector.write.WriterCommitMessage%5B%5D)"><code>BatchWrite.commit(WriterCommitMessage[])</code></a> is called,
 <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called, at which point the staged table can
 complete both the data write and the metadata swap operation atomically.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.0.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.spark.sql.connector.catalog.TableCatalog">Fields inherited from interface&nbsp;org.apache.spark.sql.connector.catalog.<a href="TableCatalog.html" title="interface in org.apache.spark.sql.connector.catalog">TableCatalog</a></h3>
<code><a href="TableCatalog.html#OPTION_PREFIX">OPTION_PREFIX</a>, <a href="TableCatalog.html#PROP_COMMENT">PROP_COMMENT</a>, <a href="TableCatalog.html#PROP_EXTERNAL">PROP_EXTERNAL</a>, <a href="TableCatalog.html#PROP_IS_MANAGED_LOCATION">PROP_IS_MANAGED_LOCATION</a>, <a href="TableCatalog.html#PROP_LOCATION">PROP_LOCATION</a>, <a href="TableCatalog.html#PROP_OWNER">PROP_OWNER</a>, <a href="TableCatalog.html#PROP_PROVIDER">PROP_PROVIDER</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#stageCreate(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageCreate</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Stage the creation of a table, preparing it to be committed into the metastore.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="#stageCreate(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageCreate</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageCreateOrReplace</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Stage the creation or replacement of a table, preparing it to be committed into the metastore
 when the returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageCreateOrReplace</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Stage the creation or replacement of a table, preparing it to be committed into the metastore
 when the returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageReplace</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Stage the replacement of a table, preparing it to be committed into the metastore when the
 returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)" class="member-name-link">stageReplace</a><wbr>(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Stage the replacement of a table, preparing it to be committed into the metastore when the
 returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.spark.sql.connector.catalog.CatalogPlugin">Methods inherited from interface&nbsp;org.apache.spark.sql.connector.catalog.<a href="CatalogPlugin.html" title="interface in org.apache.spark.sql.connector.catalog">CatalogPlugin</a></h3>
<code><a href="CatalogPlugin.html#defaultNamespace()">defaultNamespace</a>, <a href="CatalogPlugin.html#initialize(java.lang.String,org.apache.spark.sql.util.CaseInsensitiveStringMap)">initialize</a>, <a href="CatalogPlugin.html#name()">name</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.spark.sql.connector.catalog.TableCatalog">Methods inherited from interface&nbsp;org.apache.spark.sql.connector.catalog.<a href="TableCatalog.html" title="interface in org.apache.spark.sql.connector.catalog">TableCatalog</a></h3>
<code><a href="TableCatalog.html#alterTable(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.TableChange...)">alterTable</a>, <a href="TableCatalog.html#capabilities()">capabilities</a>, <a href="TableCatalog.html#createTable(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)">createTable</a>, <a href="TableCatalog.html#createTable(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)">createTable</a>, <a href="TableCatalog.html#dropTable(org.apache.spark.sql.connector.catalog.Identifier)">dropTable</a>, <a href="TableCatalog.html#invalidateTable(org.apache.spark.sql.connector.catalog.Identifier)">invalidateTable</a>, <a href="TableCatalog.html#listTables(java.lang.String%5B%5D)">listTables</a>, <a href="TableCatalog.html#loadTable(org.apache.spark.sql.connector.catalog.Identifier)">loadTable</a>, <a href="TableCatalog.html#loadTable(org.apache.spark.sql.connector.catalog.Identifier,long)">loadTable</a>, <a href="TableCatalog.html#loadTable(org.apache.spark.sql.connector.catalog.Identifier,java.lang.String)">loadTable</a>, <a href="TableCatalog.html#purgeTable(org.apache.spark.sql.connector.catalog.Identifier)">purgeTable</a>, <a href="TableCatalog.html#renameTable(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Identifier)">renameTable</a>, <a href="TableCatalog.html#tableExists(org.apache.spark.sql.connector.catalog.Identifier)">tableExists</a>, <a href="TableCatalog.html#useNullableQuerySchema()">useNullableQuerySchema</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="stageCreate(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageCreate</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageCreate</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                 throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.TableAlreadyExistsException,
org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">Stage the creation of a table, preparing it to be committed into the metastore.
 <p>
 This is deprecated. Please override
 <a href="#stageCreate(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>stageCreate(Identifier, Column[], Transform[], Map)</code></a> instead.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.spark.sql.catalyst.analysis.TableAlreadyExistsException</code></dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stageCreate(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column[],org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageCreate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageCreate</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                         throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.TableAlreadyExistsException,
org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</span></div>
<div class="block">Stage the creation of a table, preparing it to be committed into the metastore.
 <p>
 When the table is committed, the contents of any writes performed by the Spark planner are
 committed along with the metadata about the table passed into this method's arguments. If the
 table exists when this method is called, the method should throw an exception accordingly. If
 another process concurrently creates the table before this table's staged changes are
 committed, an exception should be thrown by <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ident</code> - a table identifier</dd>
<dd><code>columns</code> - the column of the new table</dd>
<dd><code>partitions</code> - transforms to use for partitioning data in the table</dd>
<dd><code>properties</code> - a string map of table properties</dd>
<dt>Returns:</dt>
<dd>metadata for the new table</dd>
<dt>Throws:</dt>
<dd><code>org.apache.spark.sql.catalyst.analysis.TableAlreadyExistsException</code> - If a table or view already exists for the identifier</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If a requested partition transform is not supported</dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code> - If the identifier namespace does not exist (optional)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageReplace</h3>
<div class="member-signature"><span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageReplace</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                  throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException,
org.apache.spark.sql.catalyst.analysis.NoSuchTableException</span></div>
<div class="block">Stage the replacement of a table, preparing it to be committed into the metastore when the
 returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.
 <p>
 This is deprecated, please override
 <a href="#stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>stageReplace(Identifier, StructType, Transform[], Map)</code></a> instead.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code></dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchTableException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column[],org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageReplace</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageReplace</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                          throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException,
org.apache.spark.sql.catalyst.analysis.NoSuchTableException</span></div>
<div class="block">Stage the replacement of a table, preparing it to be committed into the metastore when the
 returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.
 <p>
 When the table is committed, the contents of any writes performed by the Spark planner are
 committed along with the metadata about the table passed into this method's arguments. If the
 table exists, the metadata and the contents of this table replace the metadata and contents of
 the existing table. If a concurrent process commits changes to the table's data or metadata
 while the write is being performed but before the staged changes are committed, the catalog
 can decide whether to move forward with the table replacement anyways or abort the commit
 operation.
 <p>
 If the table does not exist, committing the staged changes should fail with
 <code>NoSuchTableException</code>. This differs from the semantics of
 <a href="#stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>stageCreateOrReplace(Identifier, StructType, Transform[], Map)</code></a>, which should create
 the table in the data source if the table does not exist at the time of committing the
 operation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ident</code> - a table identifier</dd>
<dd><code>columns</code> - the columns of the new table</dd>
<dd><code>partitions</code> - transforms to use for partitioning data in the table</dd>
<dd><code>properties</code> - a string map of table properties</dd>
<dt>Returns:</dt>
<dd>metadata for the new table</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If a requested partition transform is not supported</dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code> - If the identifier namespace does not exist (optional)</dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchTableException</code> - If the table does not exist</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageCreateOrReplace</h3>
<div class="member-signature"><span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageCreateOrReplace</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="../../types/StructType.html" title="class in org.apache.spark.sql.types">StructType</a>&nbsp;schema,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                          throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</span></div>
<div class="block">Stage the creation or replacement of a table, preparing it to be committed into the metastore
 when the returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.
 <p>
 This is deprecated, please override
 <a href="#stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column%5B%5D,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>stageCreateOrReplace(Identifier, Column[], Transform[], Map)</code></a> instead.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stageCreateOrReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.connector.catalog.Column[],org.apache.spark.sql.connector.expressions.Transform[],java.util.Map)">
<h3>stageCreateOrReplace</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="StagedTable.html" title="interface in org.apache.spark.sql.connector.catalog">StagedTable</a></span>&nbsp;<span class="element-name">stageCreateOrReplace</span><wbr><span class="parameters">(<a href="Identifier.html" title="interface in org.apache.spark.sql.connector.catalog">Identifier</a>&nbsp;ident,
 <a href="Column.html" title="interface in org.apache.spark.sql.connector.catalog">Column</a>[]&nbsp;columns,
 <a href="../expressions/Transform.html" title="interface in org.apache.spark.sql.connector.expressions">Transform</a>[]&nbsp;partitions,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;properties)</span>
                                  throws <span class="exceptions">org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</span></div>
<div class="block">Stage the creation or replacement of a table, preparing it to be committed into the metastore
 when the returned table's <a href="StagedTable.html#commitStagedChanges()"><code>StagedTable.commitStagedChanges()</code></a> is called.
 <p>
 When the table is committed, the contents of any writes performed by the Spark planner are
 committed along with the metadata about the table passed into this method's arguments. If the
 table exists, the metadata and the contents of this table replace the metadata and contents of
 the existing table. If a concurrent process commits changes to the table's data or metadata
 while the write is being performed but before the staged changes are committed, the catalog
 can decide whether to move forward with the table replacement anyways or abort the commit
 operation.
 <p>
 If the table does not exist when the changes are committed, the table should be created in the
 backing data source. This differs from the expected semantics of
 <a href="#stageReplace(org.apache.spark.sql.connector.catalog.Identifier,org.apache.spark.sql.types.StructType,org.apache.spark.sql.connector.expressions.Transform%5B%5D,java.util.Map)"><code>stageReplace(Identifier, StructType, Transform[], Map)</code></a>, which should fail when
 the staged changes are committed but the table doesn't exist at commit time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ident</code> - a table identifier</dd>
<dd><code>columns</code> - the columns of the new table</dd>
<dd><code>partitions</code> - transforms to use for partitioning data in the table</dd>
<dd><code>properties</code> - a string map of table properties</dd>
<dt>Returns:</dt>
<dd>metadata for the new table</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If a requested partition transform is not supported</dd>
<dd><code>org.apache.spark.sql.catalyst.analysis.NoSuchNamespaceException</code> - If the identifier namespace does not exist (optional)</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
<script defer="defer" type="text/javascript" src="../../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../../lib/api-javadocs.js"></script></body>
</html>
