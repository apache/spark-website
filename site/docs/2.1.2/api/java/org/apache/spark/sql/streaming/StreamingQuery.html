<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.7.0_151) on Mon Oct 02 14:47:29 PDT 2017 -->
<title>StreamingQuery (Spark 2.1.2 JavaDoc)</title>
<meta name="date" content="2017-10-02">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StreamingQuery (Spark 2.1.2 JavaDoc)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/sql/streaming/StateOperatorProgress.html" title="class in org.apache.spark.sql.streaming"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/sql/streaming/StreamingQuery.html" target="_top">Frames</a></li>
<li><a href="StreamingQuery.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.sql.streaming</div>
<h2 title="Interface StreamingQuery" class="title">Interface StreamingQuery</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">StreamingQuery</span></pre>
<div class="block">:: Experimental ::
 A handle to a query that is executing continuously in the background as new data arrives.
 All these methods are thread-safe.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#awaitTermination()">awaitTermination</a></strong>()</code>
<div class="block">Waits for the termination of <code>this</code> query, either by <code>query.stop()</code> or by an exception.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#awaitTermination(long)">awaitTermination</a></strong>(long&nbsp;timeoutMs)</code>
<div class="block">Waits for the termination of <code>this</code> query, either by <code>query.stop()</code> or by an exception.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>scala.Option&lt;<a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#exception()">exception</a></strong>()</code>
<div class="block">Returns the <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryException</code></a> if the query was terminated by an exception.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#explain()">explain</a></strong>()</code>
<div class="block">Prints the physical plan to the console for debugging purposes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#explain(boolean)">explain</a></strong>(boolean&nbsp;extended)</code>
<div class="block">Prints the physical plan to the console for debugging purposes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#id()">id</a></strong>()</code>
<div class="block">Returns the unique id of this query that persists across restarts from checkpoint data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#isActive()">isActive</a></strong>()</code>
<div class="block">Returns <code>true</code> if this query is actively running.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming">StreamingQueryProgress</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#lastProgress()">lastProgress</a></strong>()</code>
<div class="block">Returns the most recent <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryProgress</code></a> update of this streaming query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#name()">name</a></strong>()</code>
<div class="block">Returns the user-specified name of the query, or null if not specified.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#processAllAvailable()">processAllAvailable</a></strong>()</code>
<div class="block">Blocks until all available data in the source has been processed and committed to the sink.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming">StreamingQueryProgress</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#recentProgress()">recentProgress</a></strong>()</code>
<div class="block">Returns an array of the most recent <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryProgress</code></a> updates for this query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#runId()">runId</a></strong>()</code>
<div class="block">Returns the unique id of this run of the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/spark/sql/SparkSession.html" title="class in org.apache.spark.sql">SparkSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#sparkSession()">sparkSession</a></strong>()</code>
<div class="block">Returns the <code>SparkSession</code> associated with <code>this</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryStatus.html" title="class in org.apache.spark.sql.streaming">StreamingQueryStatus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#status()">status</a></strong>()</code>
<div class="block">Returns the current status of the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/sql/streaming/StreamingQuery.html#stop()">stop</a></strong>()</code>
<div class="block">Stops the execution of this query if it is running.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="name()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>String&nbsp;name()</pre>
<div class="block">Returns the user-specified name of the query, or null if not specified.
 This name can be specified in the <code>org.apache.spark.sql.streaming.DataStreamWriter</code>
 as <code>dataframe.writeStream.queryName("query").start()</code>.
 This name, if set, must be unique across all active queries.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="id()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>id</h4>
<pre>java.util.UUID&nbsp;id()</pre>
<div class="block">Returns the unique id of this query that persists across restarts from checkpoint data.
 That is, this id is generated when a query is started for the first time, and
 will be the same every time it is restarted from checkpoint data. Also see <code>runId</code>.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.1.0</dd></dl>
</li>
</ul>
<a name="runId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runId</h4>
<pre>java.util.UUID&nbsp;runId()</pre>
<div class="block">Returns the unique id of this run of the query. That is, every start/restart of a query will
 generated a unique runId. Therefore, every time a query is restarted from
 checkpoint, it will have the same <code>id</code> but different <code>runId</code>s.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd></dl>
</li>
</ul>
<a name="sparkSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sparkSession</h4>
<pre><a href="../../../../../org/apache/spark/sql/SparkSession.html" title="class in org.apache.spark.sql">SparkSession</a>&nbsp;sparkSession()</pre>
<div class="block">Returns the <code>SparkSession</code> associated with <code>this</code>.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="isActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActive</h4>
<pre>boolean&nbsp;isActive()</pre>
<div class="block">Returns <code>true</code> if this query is actively running.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="exception()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exception</h4>
<pre>scala.Option&lt;<a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a>&gt;&nbsp;exception()</pre>
<div class="block">Returns the <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryException</code></a> if the query was terminated by an exception.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="status()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryStatus.html" title="class in org.apache.spark.sql.streaming">StreamingQueryStatus</a>&nbsp;status()</pre>
<div class="block">Returns the current status of the query.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.2</dd></dl>
</li>
</ul>
<a name="recentProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recentProgress</h4>
<pre><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming">StreamingQueryProgress</a>[]&nbsp;recentProgress()</pre>
<div class="block">Returns an array of the most recent <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryProgress</code></a> updates for this query.
 The number of progress updates retained for each stream is configured by Spark session
 configuration <code>spark.sql.streaming.numRecentProgressUpdates</code>.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.1.0</dd></dl>
</li>
</ul>
<a name="lastProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastProgress</h4>
<pre><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming">StreamingQueryProgress</a>&nbsp;lastProgress()</pre>
<div class="block">Returns the most recent <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryProgress.html" title="class in org.apache.spark.sql.streaming"><code>StreamingQueryProgress</code></a> update of this streaming query.
 <p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.1.0</dd></dl>
</li>
</ul>
<a name="awaitTermination()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitTermination</h4>
<pre>void&nbsp;awaitTermination()
                      throws <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a></pre>
<div class="block">Waits for the termination of <code>this</code> query, either by <code>query.stop()</code> or by an exception.
 If the query has terminated with an exception, then the exception will be thrown.
 <p>
 If the query has terminated, then all subsequent calls to this method will either return
 immediately (if the query was terminated by <code>stop()</code>), or throw the exception
 immediately (if the query has terminated with exception).
 <p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a></code> - if the query has terminated with an exception.
 <p></dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="awaitTermination(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitTermination</h4>
<pre>boolean&nbsp;awaitTermination(long&nbsp;timeoutMs)
                         throws <a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a></pre>
<div class="block">Waits for the termination of <code>this</code> query, either by <code>query.stop()</code> or by an exception.
 If the query has terminated with an exception, then the exception will be thrown.
 Otherwise, it returns whether the query has terminated or not within the <code>timeoutMs</code>
 milliseconds.
 <p>
 If the query has terminated, then all subsequent calls to this method will either return
 <code>true</code> immediately (if the query was terminated by <code>stop()</code>), or throw the exception
 immediately (if the query has terminated with exception).
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeoutMs</code> - (undocumented)</dd>
<dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming">StreamingQueryException</a></code> - if the query has terminated with an exception
 <p></dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="processAllAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processAllAvailable</h4>
<pre>void&nbsp;processAllAvailable()</pre>
<div class="block">Blocks until all available data in the source has been processed and committed to the sink.
 This method is intended for testing. Note that in the case of continually arriving data, this
 method may block forever. Additionally, this method is only guaranteed to block until data that
 has been synchronously appended data to a <code>Source</code>
 prior to invocation. (i.e. <code>getOffset</code> must immediately reflect the addition).</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>void&nbsp;stop()</pre>
<div class="block">Stops the execution of this query if it is running. This method blocks until the threads
 performing execution has stopped.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="explain()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>explain</h4>
<pre>void&nbsp;explain()</pre>
<div class="block">Prints the physical plan to the console for debugging purposes.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
<a name="explain(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>explain</h4>
<pre>void&nbsp;explain(boolean&nbsp;extended)</pre>
<div class="block">Prints the physical plan to the console for debugging purposes.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>extended</code> - whether to do extended explain or not</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0.0</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/sql/streaming/StateOperatorProgress.html" title="class in org.apache.spark.sql.streaming"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/spark/sql/streaming/StreamingQueryException.html" title="class in org.apache.spark.sql.streaming"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/sql/streaming/StreamingQuery.html" target="_top">Frames</a></li>
<li><a href="StreamingQuery.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<script defer="defer" type="text/javascript" src="../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/api-javadocs.js"></script></body>
</html>
